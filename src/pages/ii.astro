---
import Layout from '../layouts/LayoutWithCTA.astro';
import { Accordion, AccordionItem } from 'free-astro-components';

const faq = [
  {
    title: "Combien de temps faut-il pour que ma moquette s√®che ?",
    content:
      "En g√©n√©ral 2 √† 6 heures selon la m√©thode utilis√©e, la ventilation et la temp√©rature ambiante. Nous pouvons installer des ventilateurs professionnels (air movers) pour acc√©l√©rer le s√©chage si n√©cessaire. Pour les urgences ou contraintes d'exploitation, nous privil√©gions les m√©thodes √† s√©chage rapide.",
  },
  {
    title: "Intervenez-vous en cas de d√©g√¢t des eaux ou d'urgence ?",
    content:
      "Oui, nous intervenons rapidement pour les sinistres : aspiration de l'eau, d√©sinfection et s√©chage assist√©. Nous pouvons √©galement travailler en lien avec votre assurance et fournir les justificatifs n√©cessaires. L'organisation peut se faire enti√®rement par t√©l√©phone pour plus de simplicit√©.",
  },
];

const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  mainEntity: faq.map((item) => ({
    "@type": "Question",
    name: item.title,
    acceptedAnswer: { "@type": "Answer", text: item.content },
  })),
};


import KlinovaLeadForm from '~/components/KlinovaLeadFormCl.astro';
---

<Layout title="FAQ Test | Klinova" description="Test accord√©on vert clair sur fond neutre.">
  <section class="py-16 md:py-20 bg-[#FCFCFC]">
    <div class="container mx-auto px-6 lg:px-12">
      <div class="max-w-4xl mx-auto">
        <div class="text-center mb-12">
          <h2 class="text-3xl md:text-4xl font-bold text-[#1E2939] mb-6">
            Questions fr√©quentes
          </h2>
          <p class="text-xl text-[#475569] leading-relaxed">
            Les r√©ponses aux questions les plus fr√©quentes sur nos services.
          </p>
        </div>

        <Accordion
          variant="splitted"
          style="--ac-accordion-background-color:#DFF1E8; --ac-accordion-border-color:#C0E2D0; --ac-accordion-border-width:1px; --ac-accordion-rounded:1rem; --ac-accordion-spacing:1rem;"
        >
          {faq.map((item) => (
            <AccordionItem title={item.title} name="faq-moquettes">
              <p class="whitespace-pre-line text-[#475569] leading-relaxed">
                {item.content}
              </p>
            </AccordionItem>
          ))}
        </Accordion>
      </div>
    </div>
  </section>

  <script type="application/ld+json">{JSON.stringify(faqSchema)}</script>

  <style is:inline>
    /* üåø Klinova ‚Äî cartes vert clair, bordures douces */
    section :where(details) {
      background-color: #DFF1E8 !important; /* forcer la couleur r√©elle */
      border: 1px solid #C0E2D0 !important;
      border-radius: 1rem;
      box-shadow: 0 1px 2px rgba(63, 141, 101, 0.08);
      transition: box-shadow 0.2s ease;
    }

    section :where(details[open]) {
      box-shadow: 0 0 0 2px rgba(63, 141, 101, 0.25);
    }

    section :where(details + details) {
      margin-top: 1rem;
    }

    section :where(summary) {
      background: transparent !important;
      font-weight: 600;
      color: #1E2939;
    }

    /* corrige un cas o√π la lib met le fond sur un div interne */
    section :where(details > div, details > p) {
      background-color: transparent !important;
    }
  </style>



<KlinovaLeadForm
  source="form-moquette"
  parisOnly={false}
  cloudName="dgpeykj44"
  uploadPreset="form_upload"
/>


</Layout>
