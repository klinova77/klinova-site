<!DOCTYPE html><!-- ⚠️ Note l’espace entre LayoutLP et {...seo} --><!-- ✅ Passe la bonne marque --><html lang="fr" data-theme-action="blue-deep" data-bg-style="vibrant" data-brand="klinova"> <head><meta charset="UTF-8"><!-- Google Tag Manager --><script type="module">(function(e,n,r,t,m){e[t]=e[t]||[],e[t].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var g=n.getElementsByTagName(r)[0],a=n.createElement(r),s="";a.async=!0,a.src="https://www.googletagmanager.com/gtm.js?id="+m+s,g.parentNode.insertBefore(a,g)})(window,document,"script","dataLayer","GTM-TWMFLQ5X");
//# sourceMappingURL=DocumentShell.astro_astro_type_script_index_0_lang.gKoWUw85.js.map</script><!-- End Google Tag Manager --><meta name="viewport" content="width=device-width, initial-scale=1"><!-- Title & Description --><title>traitement punaises de lit paris - Stop-Punaises Paris</title><meta name="description" content="Traitement professionnel des punaises de lit à Paris et Île-de-France. Devis gratuit, intervention rapide, garantie incluse. Certification Certibiocide."><!-- Robots --><meta name="robots" content="index, follow"><meta name="googlebot" content="index, follow"><!-- Canonical --><link rel="canonical" href="https://klinova.fr/traitement-punaises-de-lit-paris/"><!-- Hreflang (UNIQUEMENT si variants fournis) --><!-- Open Graph --><meta property="og:type" content="website"><meta property="og:site_name" content="Stop-Punaises"><meta property="og:title" content="traitement punaises de lit paris - Stop-Punaises Paris"><meta property="og:description" content="Traitement professionnel des punaises de lit à Paris et Île-de-France. Devis gratuit, intervention rapide, garantie incluse. Certification Certibiocide."><meta property="og:url" content="https://klinova.fr/traitement-punaises-de-lit-paris/"><meta property="og:locale" content="fr_FR"><meta property="og:image" content="https://klinova.fr/images/og/og-default.jpg"><meta property="og:image:alt" content="Stop-Punaises – Spécialiste punaises de lit à Paris"><!-- Article (si article) --><!-- Twitter --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="traitement punaises de lit paris - Stop-Punaises Paris"><meta name="twitter:description" content="Traitement professionnel des punaises de lit à Paris et Île-de-France. Devis gratuit, intervention rapide, garantie incluse. Certification Certibiocide."><meta name="twitter:image" content="https://klinova.fr/images/og/og-default.jpg"><meta name="twitter:image:alt" content="Stop-Punaises – Spécialiste punaises de lit à Paris"><!-- JSON-LD (fallback LocalBusiness si rien n’est fourni) --><script type="application/ld+json">{"@context":"https://schema.org","@type":"LocalBusiness","name":"Stop-Punaises","description":"Traitement professionnel des punaises de lit à Paris et Île-de-France. Devis gratuit, intervention rapide, garantie incluse. Certification Certibiocide.","url":"https://klinova.fr","logo":"https://klinova.fr/images/logo-stop-punaises.webp","image":"https://klinova.fr/images/og/og-default.jpg","telephone":"+33630221228","address":{"@type":"PostalAddress","streetAddress":"6 rue d'Armaillé","addressLocality":"Paris","postalCode":"75017","addressCountry":"FR"},"areaServed":"Île-de-France","priceRange":"€€","openingHours":"Mo-Su 08:00-20:00"}</script><!-- Hints tiers optionnels (après consentement explicite) --><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="stylesheet" href="/_assets/a-propos.DQPYA7Hw.css">
<style>@keyframes fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in{animation:.6s ease-out fadeIn}.loading{pointer-events:none;opacity:.9}.valid{background-color:#f0fdf4;border-color:#10b981}.invalid{background-color:#fef2f2;border-color:#ef4444}details[data-astro-cid-dpwu4by2][open] summary[data-astro-cid-dpwu4by2]~[data-astro-cid-dpwu4by2][data-panel]{animation:.35s ease-out both spSlideIn}@keyframes spSlideIn{0%{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}[data-astro-cid-dpwu4by2][data-panel]{opacity:.98;max-height:0;transition:max-height .35s,opacity .25s;overflow:hidden}@media (prefers-reduced-motion:reduce){[data-astro-cid-dpwu4by2][data-panel]{transition:none!important;animation:none!important}}
html[data-menu-open=true] #sticky-cta{display:none!important}.phone-pulse{animation:3s ease-in-out infinite phonePulse}@keyframes phonePulse{0%,to{transform:scale(1)}33%{transform:scale(1.03);box-shadow:0 0 0 6px #0ea5e926}66%{transform:scale(1.01);box-shadow:0 0 0 3px #0ea5e914}}
</style>
<link rel="stylesheet" href="/_assets/nettoyage-balcons-fientes-pigeons.Tw04LMKn.css"></head> <body class="font-sans bg-neutral-50 text-primary-900"> <!-- Google Tag Manager (noscript) --> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TWMFLQ5X" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript> <!-- End Google Tag Manager (noscript) -->  <!-- Wrapper interne (pas de <body> ici) --><div id="lp-root" data-service-key="general" data-service-label="Service Klinova" data-tracking-source="popup-general" data-preset-subject data-popup-title data-popup-subtitle data-credit-impot="0"> <header class="bg-white border-b border-gray-100 sticky top-0 z-50 backdrop-blur-sm bg-white/95"> <div class="container-responsive"> <div class="flex items-center justify-between h-16 lg:h-20"> <!-- Navigation gauche --> <div class="flex items-center gap-8 lg:gap-12"> <!-- Logo + Nom --> <a href="/" class="flex items-center gap-3 group"> <span class="font-bold text-xl lg:text-2xl text-action-600 group-hover:text-action-700 transition-colors font-caviar">
Klinova
</span> </a> <!-- Navigation desktop minimaliste --> <nav class="hidden md:flex items-center"> <a href="/contact" class="px-4 py-2 font-caviar font-bold text-[1.25rem] leading-tight text-[#111826] hover:text-[var(--color-action-600)] transition-colors duration-200">
Contact
</a> </nav> </div> <!-- CTAs droite --> <div class="flex items-center gap-3 lg:gap-4"> <!-- Numéro téléphone (desktop uniquement) --> <a href="tel:+33630221228" class="hidden lg:flex items-center gap-2 text-gray-700 hover:text-emerald-600 transition-colors group font-medium"> <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path> </svg> <span class="text-sm lg:text-base">06 30 22 12 28</span> </a> <!-- CTA principal (desktop uniquement) --> <a href="/contact#devis" class="hidden lg:inline-flex items-center gap-2 bg-emerald-600 hover:bg-emerald-700 text-white px-5 py-3 lg:px-7 lg:py-3.5 rounded-xl font-bold text-sm lg:text-base transition-all duration-200 hover:shadow-lg hover:translate-y-[-1px] shadow-md" data-conversion-action="header-cta"> <span>Devis gratuit</span> <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4-4 4M3 12h18"></path> </svg> </a> <!-- Menu mobile burger --> <button class="md:hidden p-2 text-gray-600 hover:text-emerald-600 transition-colors" aria-label="Menu mobile" data-mobile-menu-toggle> <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path> </svg> </button> </div> </div> <!-- Menu mobile simplifié --> <div class="md:hidden border-t border-gray-100 bg-white hidden" data-mobile-menu> <div class="py-4 space-y-2"> <!-- Contact mobile --> <a href="/contact" class="block px-4 py-3 text-gray-700 hover:text-emerald-600 font-medium">
Contact
</a> <!-- CTA mobile dupliqué pour visibilité --> <div class="px-4 pt-2"> <a href="/contact#devis" class="block w-full text-center bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-3 rounded-xl font-bold transition-colors" data-conversion-action="header-cta-mobile"> Devis gratuit </a> </div> </div> </div> </div> </header> <script type="module">document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("[data-mobile-menu-toggle]"),t=document.querySelector("[data-mobile-menu]");e&&t&&e.addEventListener("click",()=>{t.classList.toggle("hidden")})});
//# sourceMappingURL=HeaderLP.astro_astro_type_script_index_0_lang.CcPwCbLy.js.map</script> <main class="min-h-[60vh]">   <section data-hero class="hero-bg pt-8 sm:pt-12 lg:pt-16 pb-12 sm:pb-16 lg:pb-20 overflow-hidden" aria-labelledby="hero-title" data-astro-cid-dpwu4by2> <!-- Blob décoratif --> <div class="absolute top-10 right-0 w-[400px] h-[400px] opacity-5 pointer-events-none" aria-hidden="true" data-astro-cid-dpwu4by2> <svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg" role="presentation" data-astro-cid-dpwu4by2> <circle cx="200" cy="100" r="120" fill="var(--color-action-500)" data-astro-cid-dpwu4by2></circle> <circle cx="280" cy="180" r="80" fill="var(--sp-primary-600)" data-astro-cid-dpwu4by2></circle> </svg> </div> <div class="relative z-10 container-responsive max-w-6xl" data-astro-cid-dpwu4by2> <!-- Badge urgence --> <div class="text-center mb-6 lg:mb-8" data-astro-cid-dpwu4by2> <div class="inline-flex items-center gap-2 px-4 py-2
                  bg-white border-2 border-sp-action-500 rounded-full 
                  text-sm font-bold shadow-lg" style="color: var(--sp-action-600)" data-astro-cid-dpwu4by2> <span class="flex h-2.5 w-2.5 relative" aria-hidden="true" data-astro-cid-dpwu4by2> <span class="motion-safe:animate-ping absolute inline-flex h-full w-full rounded-full opacity-75 bg-sp-action-500" data-astro-cid-dpwu4by2></span> <span class="relative inline-flex rounded-full h-2.5 w-2.5 bg-sp-action-500" data-astro-cid-dpwu4by2></span> </span> <span class="hidden sm:inline" data-astro-cid-dpwu4by2>Intervention possible aujourd'hui à Paris</span> <span class="sm:hidden" data-astro-cid-dpwu4by2>Intervention aujourd'hui</span> </div> </div> <!-- Layout --> <div class="lg:grid lg:grid-cols-[1.2fr_1fr] lg:gap-12 lg:items-start space-y-8 lg:space-y-0" data-astro-cid-dpwu4by2> <!-- Colonne gauche --> <div class="text-center lg:text-left order-2 lg:order-1" data-astro-cid-dpwu4by2> <!-- H1 plus “dense” --> <!-- Version H1 avec classes utilitaires de votre global.css --> <!-- Version H1 avec variables CSS mais tailles identiques --> <h1 id="hero-title" class="text-3xl sm:text-4xl lg:text-5xl xl:text-6xl font-bold leading-tight mb-6" data-astro-cid-dpwu4by2> <span class="block gradient-text-hero" data-astro-cid-dpwu4by2>
Élimination des punaises de lit
</span> <span class="block mt-2 text-2xl sm:text-3xl lg:text-4xl xl:text-5xl text-sp-neutral-600" data-astro-cid-dpwu4by2>
Intervention rapide à Paris
</span> </h1> <!-- Sous-titre (ta version) --> <p class="text-base sm:text-lg leading-relaxed mb-8" style="color: var(--sp-neutral-600)" data-astro-cid-dpwu4by2>
Protocole certifié et éprouvé • Garantie 6 mois • Intervention possible le jour même pour vous débarrasser définitivement des punaises de lit.
</p> </div> <!-- Colonne droite (CTA card) --> <div class="order-1 lg:order-2 lg:sticky lg:top-24" data-astro-cid-dpwu4by2> <div class="space-y-4 lg:bg-white lg:rounded-2xl lg:border lg:border-sp-line lg:shadow-soft-lg lg:p-6" data-astro-cid-dpwu4by2> <!-- Tel --> <a href="tel:+33630221228" target="_top" rel="noopener" aria-label="Appeler Stop-Punaises" class="btn-touch btn-primary text-lg py-4 px-8 w-full group will-change-transform phone-pulse flex items-center gap-3 sm:gap-4" data-action="call" data-source="hero" data-intent="primary-phone" data-category="conversion" data-channel="phone">   <span class="flex-shrink-0 w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center
           group-hover:rotate-12 transition-transform" aria-hidden="true" data-astro-cid-dpwu4by2> <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" data-astro-cid-dpwu4by2> <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" data-astro-cid-dpwu4by2></path> </svg> </span>  <span class="flex flex-col items-start leading-tight" data-astro-cid-dpwu4by2> <span class="text-xs font-medium opacity-90" data-astro-cid-dpwu4by2>Appel gratuit</span> <span class="text-2xl font-black" data-astro-cid-dpwu4by2>06 76 73 86 61</span> </span>  </a> <p class="text-sm text-center text-sp-muted" data-astro-cid-dpwu4by2>
Réponse immédiate • Devis en 2&nbsp;min
</p> <!-- Séparateur --> <div class="relative" data-astro-cid-dpwu4by2> <div class="absolute inset-0 flex items-center" data-astro-cid-dpwu4by2><div class="w-full border-t-2 lg:border-t border-neutral-200" data-astro-cid-dpwu4by2></div></div> <div class="relative flex justify-center" data-astro-cid-dpwu4by2> <span class="px-4 lg:px-3 bg-neutral-50 lg:bg-white text-sm lg:text-xs font-semibold text-sp-neutral-600" data-astro-cid-dpwu4by2>OU</span> </div> </div> <!-- Formulaire (ouvre popup) --> <a href="#formulaire" target="_top" rel="noopener" aria-label="Devis gatuit" class="btn-touch btn-secondary text-lg py-4 px-8 w-full" data-action="lead" data-source="hero" data-intent="cta-form" data-open-popup="cta" data-category="engagement" data-channel="form" data-source="hero"> 
Devis gratuit
 </a> <!-- Preuves sociales avec petits pictos --> <div class="hidden lg:block pt-4 border-t border-neutral-200 space-y-2 text-xs text-sp-neutral-600" data-astro-cid-dpwu4by2> <div class="flex items-center gap-2" data-astro-cid-dpwu4by2> <svg class="w-4 h-4 text-success-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" data-astro-cid-dpwu4by2><path d="M20 6L9 17l-5-5" data-astro-cid-dpwu4by2></path></svg> <span class="font-medium" data-astro-cid-dpwu4by2>Certifié Certibiocide</span> </div> <div class="flex items-center gap-2" data-astro-cid-dpwu4by2> <svg class="w-4 h-4 text-success-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" data-astro-cid-dpwu4by2><path d="M20 6L9 17l-5-5" data-astro-cid-dpwu4by2></path></svg> <span class="font-medium" data-astro-cid-dpwu4by2>Formé CertiPunaise+ (IZIPest)</span> </div> <div class="flex items-center gap-2" data-astro-cid-dpwu4by2> <svg class="w-4 h-4 text-success-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" data-astro-cid-dpwu4by2><path d="M20 6L9 17l-5-5" data-astro-cid-dpwu4by2></path></svg> <span class="font-medium" data-astro-cid-dpwu4by2>Assuré RC Pro</span> </div> </div> </div> </div> </div> </div> </section>  <section class="py-6 bg-white border-y border-neutral-200" data-astro-cid-dpwu4by2> <div class="container-responsive" data-astro-cid-dpwu4by2> <div class="stats-grid max-w-5xl mx-auto" data-astro-cid-dpwu4by2> <!-- Stat 1 : Rapidité --> <div class="stat-card" data-astro-cid-dpwu4by2> <div class="stat-number text-sp-primary-600" data-astro-cid-dpwu4by2>24h</div> <div class="stat-label" data-astro-cid-dpwu4by2>Intervention rapide</div> </div> <!-- Stat 2 : Clients --> <div class="stat-card" data-astro-cid-dpwu4by2> <div class="stat-number text-sp-primary-600" data-astro-cid-dpwu4by2>500+</div> <div class="stat-label" data-astro-cid-dpwu4by2>Clients Paris</div> </div> <!-- Stat 3 : Garantie --> <div class="stat-card" data-astro-cid-dpwu4by2> <div class="stat-number text-sp-primary-600" data-astro-cid-dpwu4by2>6 mois</div> <div class="stat-label" data-astro-cid-dpwu4by2>Garantie</div> </div> <!-- Stat 4 : Certification --> <div class="stat-card" data-astro-cid-dpwu4by2> <div class="stat-number text-sp-primary-600" data-astro-cid-dpwu4by2>Certifié</div> <div class="stat-label" data-astro-cid-dpwu4by2>Certibiocide</div> </div> </div> </div> </section> <section class="section-padding bg-neutral-50" aria-labelledby="trust-title" data-astro-cid-dpwu4by2> <div class="container-responsive" data-astro-cid-dpwu4by2> <!-- En-tête --> <div class="text-center max-w-2xl mx-auto mb-10" data-astro-cid-dpwu4by2> <h2 id="trust-title" class="section-title text-[var(--sp-primary-600)]" data-astro-cid-dpwu4by2>
Notre expertise au service de votre tranquillité
</h2> <p class="mt-3 text-[var(--sp-neutral-600)]" data-astro-cid-dpwu4by2>
Agréé par le ministère de la Transition écologique — intervention sous 24&nbsp;h, <strong data-astro-cid-dpwu4by2>garantie 6&nbsp;mois</strong>.
</p> </div> <!-- Layout 2 colonnes --> <div class="grid gap-8 lg:grid-cols-[1fr_380px]" data-astro-cid-dpwu4by2> <!-- COLONNE 1 : 3 bénéfices essentiels --> <div class="space-y-5" data-astro-cid-dpwu4by2> <!-- Bénéfice 1 --> <div class="rounded-2xl border border-neutral-200 bg-white p-6" data-astro-cid-dpwu4by2> <h3 class="text-lg font-semibold text-[var(--sp-primary-600)]" data-astro-cid-dpwu4by2>Intervention rapide à Paris</h3> <p class="mt-1 text-sm text-[var(--sp-neutral-600)]" data-astro-cid-dpwu4by2>
Réponse sous 4&nbsp;h • Créneaux le jour même • Soir & week-end possibles
</p> </div> <!-- Bénéfice 2 --> <div class="rounded-2xl border border-neutral-200 bg-white p-6" data-astro-cid-dpwu4by2> <h3 class="text-lg font-semibold text-[var(--sp-primary-600)]" data-astro-cid-dpwu4by2>Résultat garanti 6&nbsp;mois</h3> <p class="mt-1 text-sm text-[var(--sp-neutral-600)]" data-astro-cid-dpwu4by2>
Protocole combiné vapeur&nbsp;+&nbsp;ciblé • Suivi inclus si nécessaire
</p> </div> <!-- Bénéfice 3 --> <div class="rounded-2xl border border-neutral-200 bg-white p-6" data-astro-cid-dpwu4by2> <h3 class="text-lg font-semibold text-[var(--sp-primary-600)]" data-astro-cid-dpwu4by2>Discrétion assurée</h3> <p class="mt-1 text-sm text-[var(--sp-neutral-600)]" data-astro-cid-dpwu4by2>
Véhicule banalisé • Intervention en civil • Facturation neutre
</p> <!-- Visuel optionnel (LCP-friendly) --> <div class="mt-4 rounded-lg border border-neutral-200 bg-white/70 p-3" data-astro-cid-dpwu4by2> <img src="/images/vehicule-professionnel-anti-punaises-de-lit-discret.webp" alt="Véhicule professionnel banalisé — intervention discrète" class="w-full h-auto rounded object-cover" loading="lazy" fetchpriority="low" decoding="async" width="477" height="250" data-astro-cid-dpwu4by2> </div> </div> </div> <!-- COLONNE 2 : Certifications essentielles --> <aside class="h-fit rounded-2xl border border-neutral-200 bg-white/70 backdrop-blur p-6" data-astro-cid-dpwu4by2> <h3 class="text-lg font-semibold text-neutral-900 mb-4" data-astro-cid-dpwu4by2>Certifications & assurances</h3> <!-- Certibiocide (focus) --> <div class="mb-5 rounded-xl border border-primary-200 bg-primary-50 p-4" data-astro-cid-dpwu4by2> <div class="font-semibold text-primary-700" data-astro-cid-dpwu4by2>
Agréé — Ministère de la Transition écologique
</div> <div class="mt-1 text-sm text-primary-600" data-astro-cid-dpwu4by2>
Certibiocide n° <span class="font-medium" data-astro-cid-dpwu4by2>093058</span> • valide jusqu’en 2030
</div> </div> <!-- Liste concise (sans sur-icônisation) --> <ul class="space-y-2 text-sm text-[var(--sp-neutral-700)]" data-astro-cid-dpwu4by2> <li data-astro-cid-dpwu4by2>Formation CertiPunaise+ (IZIPest)</li> <li data-astro-cid-dpwu4by2>Assurance RC Pro — Hiscox</li> <li data-astro-cid-dpwu4by2>Entreprise francilienne enregistrée — SIREN 943&nbsp;439&nbsp;810</li> </ul> <!-- Vignette certificat (optionnelle) --> <div class="mt-5" data-astro-cid-dpwu4by2> <img src="/images/attestation-certibiocide.webp" alt="Attestation officielle Certibiocide" class="w-full rounded-lg border border-neutral-200" loading="lazy" fetchpriority="low" decoding="async" width="600" height="850" data-astro-cid-dpwu4by2> </div> </aside> </div> </div> </section> <section class="section-padding bg-white" aria-labelledby="pricing-title" data-astro-cid-dpwu4by2> <div class="container-responsive" data-astro-cid-dpwu4by2> <!-- En-tête --> <div class="text-center max-w-2xl mx-auto mb-12" data-astro-cid-dpwu4by2> <h2 id="pricing-title" class="section-title text-primary-600" data-astro-cid-dpwu4by2>Tarifs transparents</h2> <p class="section-subtitle mt-3 text-neutral-600" data-astro-cid-dpwu4by2>
Traitement professionnel avec <strong data-astro-cid-dpwu4by2>garantie 6 mois</strong> • Devis gratuit sous 4&nbsp;h
</p> <!-- Badge paiement --> <div class="inline-block mt-4 bg-success-50 text-success-700 text-sm font-semibold px-4 py-1.5 rounded-full border border-success-200" data-astro-cid-dpwu4by2>
Paiement possible en 2 ou 3 fois sans frais
</div> </div> <!-- Carte unique : Traitement combiné --> <div class="max-w-2xl mx-auto mb-10" data-astro-cid-dpwu4by2> <div class="bg-white rounded-2xl border-2 border-primary-400 p-6 lg:p-8 shadow-xl" data-astro-cid-dpwu4by2> <!-- Badge recommandation --> <div class="text-center mb-6" data-astro-cid-dpwu4by2> <div class="inline-block bg-success-50 text-success-700 text-sm font-semibold px-4 py-1.5 rounded-full mb-3 border border-success-200" data-astro-cid-dpwu4by2>
★ Solution recommandée
</div> <h3 class="text-2xl font-bold text-primary-600 mb-2" data-astro-cid-dpwu4by2>
Traitement combiné vapeur + traitement chimique
</h3> <p class="text-sm text-neutral-600" data-astro-cid-dpwu4by2>
Efficacité maximale • Intervention 4–5&nbsp;h • Garantie 6 mois
</p> </div> <!-- Grille tarifs selon surface --> <div class="grid md:grid-cols-3 gap-4 mb-6" data-astro-cid-dpwu4by2> <div class="bg-neutral-50 rounded-xl p-4 text-center border border-neutral-200" data-astro-cid-dpwu4by2> <div class="text-sm text-neutral-600 mb-1" data-astro-cid-dpwu4by2>Jusqu'à 50&nbsp;m²</div> <div class="text-3xl font-bold text-primary-600" data-astro-cid-dpwu4by2>550€</div> <div class="text-xs text-neutral-500 mt-1" data-astro-cid-dpwu4by2>TTC</div> </div> <div class="bg-neutral-50 rounded-xl p-4 text-center border border-neutral-200" data-astro-cid-dpwu4by2> <div class="text-sm text-neutral-600 mb-1" data-astro-cid-dpwu4by2>50–80&nbsp;m²</div> <div class="text-3xl font-bold text-primary-600" data-astro-cid-dpwu4by2>750€</div> <div class="text-xs text-neutral-500 mt-1" data-astro-cid-dpwu4by2>TTC</div> </div> <div class="bg-neutral-50 rounded-xl p-4 text-center border border-neutral-200" data-astro-cid-dpwu4by2> <div class="text-sm text-neutral-600 mb-1" data-astro-cid-dpwu4by2>&gt;&nbsp;80&nbsp;m²</div> <div class="text-2xl font-bold text-primary-600" data-astro-cid-dpwu4by2>Sur devis</div> <div class="text-xs text-neutral-500 mt-1" data-astro-cid-dpwu4by2>Gratuit sous 4&nbsp;h</div> </div> </div> <!-- Ce qui est inclus --> <div class="border-t border-neutral-200 pt-6 mb-6" data-astro-cid-dpwu4by2> <h4 class="font-semibold text-neutral-900 mb-4" data-astro-cid-dpwu4by2>Ce qui est inclus :</h4> <ul class="grid md:grid-cols-2 gap-3 text-sm text-neutral-700" data-astro-cid-dpwu4by2> <li class="flex items-start gap-2" data-astro-cid-dpwu4by2> <svg class="w-5 h-5 text-success-600 shrink-0 mt-0.5" aria-hidden="true" viewBox="0 0 24 24" data-astro-cid-dpwu4by2><path d="M5 13l4 4L19 7" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-dpwu4by2></path></svg> <span data-astro-cid-dpwu4by2>Diagnostic complet & préparation guidée</span> </li> <li class="flex items-start gap-2" data-astro-cid-dpwu4by2> <svg class="w-5 h-5 text-success-600 shrink-0 mt-0.5" aria-hidden="true" viewBox="0 0 24 24" data-astro-cid-dpwu4by2><path d="M5 13l4 4L19 7" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-dpwu4by2></path></svg> <span data-astro-cid-dpwu4by2>Vapeur sèche 180&nbsp;°C sur textiles & zones sensibles</span> </li> <li class="flex items-start gap-2" data-astro-cid-dpwu4by2> <svg class="w-5 h-5 text-success-600 shrink-0 mt-0.5" aria-hidden="true" viewBox="0 0 24 24" data-astro-cid-dpwu4by2><path d="M5 13l4 4L19 7" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-dpwu4by2></path></svg> <span data-astro-cid-dpwu4by2>Traitement chimique ciblé (3–4&nbsp;semaines d’action)</span> </li> <li class="flex items-start gap-2" data-astro-cid-dpwu4by2> <svg class="w-5 h-5 text-success-600 shrink-0 mt-0.5" aria-hidden="true" viewBox="0 0 24 24" data-astro-cid-dpwu4by2><path d="M5 13l4 4L19 7" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-dpwu4by2></path></svg> <span data-astro-cid-dpwu4by2>Contrôle à J+15 & recommandations</span> </li> <li class="flex items-start gap-2" data-astro-cid-dpwu4by2> <svg class="w-5 h-5 text-success-600 shrink-0 mt-0.5" aria-hidden="true" viewBox="0 0 24 24" data-astro-cid-dpwu4by2><path d="M5 13l4 4L19 7" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-dpwu4by2></path></svg> <span data-astro-cid-dpwu4by2>Garantie 6&nbsp;mois (retours inclus si nécessaire)</span> </li> </ul> </div> <a href="#formulaire" target="_top" rel="noopener" aria-label="Demander un devis gratuit" class="btn-touch btn-tertiary text-lg py-4 px-8 w-full justify-center mb-3" data-action="lead" data-source="pricing" data-intent="cta-pricing-combine" data-open-popup="cta" data-category="conversion" data-plan="combine"> 
Demander un devis gratuit
 </a> <!-- Autres options --> <div class="bg-white rounded-xl border border-neutral-200 p-6 max-w-2xl mx-auto" data-astro-cid-dpwu4by2> <h4 class="font-semibold text-neutral-900 mb-4 text-center" data-astro-cid-dpwu4by2>Autres traitements disponibles</h4> <div class="grid md:grid-cols-2 gap-4 text-sm" data-astro-cid-dpwu4by2> <!-- Vapeur seule --> <div class="border border-neutral-200 rounded-lg p-4" data-astro-cid-dpwu4by2> <div class="font-semibold text-primary-600 mb-1" data-astro-cid-dpwu4by2>Traitement vapeur seule</div> <p class="text-neutral-600 text-xs mb-2" data-astro-cid-dpwu4by2>Sans biocide appliqué (allergies, femmes enceintes, jeunes enfants)</p> <div class="text-2xl font-bold text-neutral-900" data-astro-cid-dpwu4by2>850€</div> <div class="text-xs text-neutral-500" data-astro-cid-dpwu4by2>À partir de • Studio/T1</div> </div> <!-- Chimique seul --> <div class="border border-neutral-200 rounded-lg p-4" data-astro-cid-dpwu4by2> <div class="font-semibold text-primary-600 mb-1" data-astro-cid-dpwu4by2>Traitement chimique seul</div> <p class="text-neutral-600 text-xs mb-2" data-astro-cid-dpwu4by2>2 passages espacés (zones non textiles)</p> <div class="text-2xl font-bold text-neutral-900" data-astro-cid-dpwu4by2>290€</div> <div class="text-xs text-neutral-500" data-astro-cid-dpwu4by2>À partir de • Jusqu'à 40&nbsp;m²</div> </div> </div> </div> </div> <!--sous section Zone d'intervention: Paris --> <!-- Badge "Paris intra-muros" --> <div class="mt-6 flex items-center justify-center gap-2 text-primary-600" data-astro-cid-dpwu4by2> <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" data-astro-cid-dpwu4by2> <path stroke-linecap="round" stroke-linejoin="round" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" data-astro-cid-dpwu4by2></path> <path stroke-linecap="round" stroke-linejoin="round" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" data-astro-cid-dpwu4by2></path> </svg> <span class="font-semibold" data-astro-cid-dpwu4by2>Paris 75 • Tous arrondissements</span> </div> </div> </div></section> <section class="relative overflow-hidden bg-sp-primary-600 py-16 md:py-20 lg:py-24" data-astro-cid-dpwu4by2> <!-- Motif décoratif (garde tel quel) --> <div class="absolute inset-0 opacity-10 pointer-events-none" aria-hidden="true" data-astro-cid-dpwu4by2> <svg class="w-full h-full" viewBox="0 0 100 100" preserveAspectRatio="none" data-astro-cid-dpwu4by2> <defs data-astro-cid-dpwu4by2> <pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse" data-astro-cid-dpwu4by2> <path d="M 10 0 L 0 0 0 10" fill="none" stroke="white" stroke-width="0.5" data-astro-cid-dpwu4by2></path> </pattern> </defs> <rect width="100" height="100" fill="url(#grid)" data-astro-cid-dpwu4by2></rect> </svg> </div> <div class="container-responsive relative z-10" data-astro-cid-dpwu4by2> <div class="max-w-3xl mx-auto text-center" data-astro-cid-dpwu4by2> <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-4 leading-tight" data-astro-cid-dpwu4by2>
Débarrassez-vous des punaises dès aujourd'hui
</h2> <p class="text-lg md:text-xl text-white/90 mb-8 max-w-2xl mx-auto" data-astro-cid-dpwu4by2>
Intervention rapide à Paris • Traitement certifié • Garantie 6 mois
</p> <div class="flex flex-col sm:flex-row items-center justify-center gap-4 mb-8" data-astro-cid-dpwu4by2> <!-- CTA Téléphone (blanc sur bleu foncé) --> <a href="tel:+33676738661" target="_top" rel="noopener" aria-label="Appeler Stop-Punaises" class="btn-touch btn-tertiary text-lg py-4 px-8 w-full sm:w-auto inline-flex items-center justify-center gap-2 bg-white text-[color:var(--sp-primary-600)] px-8 py-4 rounded-xl font-bold text-lg shadow-xl hover:shadow-2xl hover:scale-[1.02] hover:-translate-y-0.5 active:scale-[0.98] active:translate-y-0 transition-all duration-300" data-action="call" data-source="final-cta" data-intent="cta-phone-footer" data-category="conversion" data-channel="phone">  <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" aria-hidden="true" data-astro-cid-dpwu4by2> <path stroke-linecap="round" stroke-linejoin="round" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" data-astro-cid-dpwu4by2></path> </svg> <span class="font-extrabold" data-astro-cid-dpwu4by2>06 76 73 86 61</span>  </a> <!-- CTA Devis (secondaire - outline) --> <a href="#formulaire" target="_top" rel="noopener" aria-label="Devis gratuit en ligne" class="btn-touch btn-tertiary text-lg py-4 px-8 w-full sm:w-auto inline-flex items-center justify-center gap-2 bg-white text-[var(--sp-primary-600)] px-8 py-4 rounded-xl font-bold text-lg shadow-xl hover:shadow-2xl hover:scale-[1.02] hover:-translate-y-0.5 active:scale-[0.98] active:translate-y-0 transition-all duration-300" data-action="lead" data-source="final-cta" data-intent="cta-form-footer" data-open-popup="cta" data-category="conversion" data-channel="form" data-source="footer">  <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" aria-hidden="true" data-astro-cid-dpwu4by2> <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" data-astro-cid-dpwu4by2></path> </svg> <span class="font-extrabold" data-astro-cid-dpwu4by2>Devis gratuit en ligne</span>  </a> </div> <!-- Garanties --> <div class="flex flex-wrap items-center justify-center gap-4 md:gap-6 text-white/90 text-sm md:text-base" data-astro-cid-dpwu4by2> <div class="flex items-center gap-2" data-astro-cid-dpwu4by2> <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" data-astro-cid-dpwu4by2> <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" data-astro-cid-dpwu4by2></path> </svg> <span data-astro-cid-dpwu4by2>Disponible 7j/7</span> </div> <div class="flex items-center gap-2" data-astro-cid-dpwu4by2> <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" data-astro-cid-dpwu4by2> <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" data-astro-cid-dpwu4by2></path> </svg> <span data-astro-cid-dpwu4by2>Intervention sous 24h</span> </div> <div class="flex items-center gap-2" data-astro-cid-dpwu4by2> <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" data-astro-cid-dpwu4by2> <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" data-astro-cid-dpwu4by2></path> </svg> <span data-astro-cid-dpwu4by2>Paiement en 2 ou 3 fois</span> </div> </div> </div> </div> </section> <section id="formulaire" class="section-padding bg-neutral-50"> <div class="container-responsive max-w-5xl"> <!-- En-tête --> <div class="text-center mb-8"> <div class="inline-flex items-center gap-2 bg-success-50 border border-success-200 rounded-full px-4 py-2 mb-4"> <svg class="w-4 h-4 text-success-600" aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path> </svg> <span class="text-sm font-medium text-success-700">Techniciens certifiés • Intervention sous 24h</span> </div> <h2 class="text-3xl lg:text-4xl font-bold text-primary-600 mb-3"> Dernière étape pour votre devis express </h2> <p class="text-neutral-600">Réponse sous 4h • Intervention possible aujourd&#39;hui ou demain</p> <div class="flex items-center justify-center gap-3 text-neutral-600 mt-3" aria-label="Avis clients"> <div class="flex items-center gap-1" aria-hidden="true"></div> </div> </div> <!-- Layout principal --> <div class="grid lg:grid-cols-3 gap-8 lg:gap-10 items-start"> <!-- FORMULAIRE --> <div class="lg:col-span-2"> <div class="bg-white rounded-2xl border border-neutral-200 p-6 lg:p-8 shadow-soft animate-fade-in"> <!-- Status aria-live --> <p data-form-status aria-live="polite" class="text-sm text-neutral-600 mb-3 hidden"></p> <!-- Indicateur de progression --> <div class="flex items-center justify-between mb-6 pb-4 border-b border-neutral-100"> <div class="flex items-center gap-3"> <div class="w-8 h-8 rounded-full bg-primary-600 text-white flex items-center justify-center text-sm font-semibold">1</div> <span class="font-medium text-neutral-700">Vos coordonnées</span> </div> <div class="flex items-center gap-3 opacity-50"> <div class="w-8 h-8 rounded-full border-2 border-neutral-300 text-neutral-400 flex items-center justify-center text-sm">2</div> <span class="text-sm text-neutral-500 hidden sm:block">Détails (optionnel)</span> </div> </div> <form id="footerLeadForm" action="/api/contact" method="POST" class="space-y-6" data-source="form-footer-lp" data-intent="lead" data-form-name="Formulaire bas de page" data-form-type="devis" data-value="290"> <input type="text" name="website" tabindex="-1" autocomplete="off" class="hidden" aria-hidden="true"> <!-- ÉTAPE 1 --> <div data-step="1" class="space-y-5"> <div class="grid sm:grid-cols-2 gap-4"> <!-- Champ PRÉNOM (facultatif) --> <div class="relative"> <label for="prenom" class="block text-sm font-semibold text-neutral-700 mb-2">
Votre prénom <span class="text-neutral-400 font-normal">(facultatif)</span> </label> <div class="relative"> <input type="text" id="prenom" name="prenom" autocomplete="given-name" class="w-full pl-12 pr-10 py-4 rounded-xl border border-neutral-300 focus:border-primary-600 focus:ring-2 focus:ring-primary-200 outline-none transition-all text-base" placeholder="Ex. Jean"> <svg class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400" aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path> </svg> <div class="absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 hidden" id="prenom-check"> <svg class="w-5 h-5 text-success-600" aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path> </svg> </div> </div> <small class="text-xs text-red-600 hidden" data-error-for="prenom"></small> </div> <!-- Champ TÉLÉPHONE (requis) --> <div class="relative"> <label for="telephone" class="block text-sm font-semibold text-neutral-700 mb-2">
Votre numéro de téléphone <span class="text-red-500">*</span> </label> <div class="relative"> <input type="tel" id="telephone" name="telephone" required inputmode="tel" autocomplete="tel" class="w-full pl-12 pr-10 py-4 rounded-xl border border-neutral-300 focus:border-primary-600 focus:ring-2 focus:ring-primary-200 outline-none transition-all text-base" placeholder="06 12 34 56 78 ou +33 6 12 34 56 78"> <svg class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400" aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path> </svg> <div class="absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 hidden" id="telephone-check"> <svg class="w-5 h-5 text-success-600" aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path> </svg> </div> </div> <small class="text-xs text-red-600 hidden" data-error-for="telephone"></small> </div> </div> <button type="button" id="nextStepBtn" class="w-full btn-primary justify-center text-lg py-5 relative overflow-hidden" data-action="next-step" aria-controls="footerLeadForm">
Être débarrassé des punaises
</button> <p class="text-center"> <button type="button" id="openStep2Link" class="text-sm text-primary-600 hover:underline mt-2">
+ Ajouter des détails à ma demande
</button> </p> <!-- Frise bénéfices --> <div class="flex flex-wrap items-center justify-center gap-4 mt-2 pt-4 border-t border-neutral-100"> <div class="flex items-center gap-2 text-sm text-success-700"> <svg class="w-4 h-4" aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> <span class="font-medium">Intervention rapide</span> </div> <div class="flex items-center gap-2 text-sm text-success-700"> <svg class="w-4 h-4" aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> <span class="font-medium">Garantie 6 mois</span> </div> <div class="flex items-center gap-2 text-sm text-success-700"> <svg class="w-4 h-4" aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> <span class="font-medium">Sans engagement</span> </div> </div> <p class="text-center text-xs text-neutral-500 mt-2">🔒 Vos informations restent strictement confidentielles</p> </div> <!-- ÉTAPE 2 --> <div data-step="2" class="space-y-5 hidden"> <div class="flex items-center justify-between mb-2 pb-3 border-b border-neutral-100"> <div class="flex items-center gap-3 opacity-50"> <div class="w-8 h-8 rounded-full bg-success-500 text-white flex items-center justify-center text-sm" aria-hidden="true"> <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> </div> <span class="text-sm text-neutral-500 line-through">Vos coordonnées</span> </div> <div class="flex items-center gap-3"> <div class="w-8 h-8 rounded-full bg-primary-600 text-white flex items-center justify-center text-sm font-semibold">2</div> <span class="font-medium text-neutral-700">Votre situation</span> </div> </div> <div class="grid sm:grid-cols-2 gap-4"> <div class="relative"> <label for="email" class="block text-sm font-semibold text-neutral-700 mb-2">
Votre email <span class="text-neutral-400 font-normal">(facultatif)</span> </label> <div class="relative"> <input type="email" id="email" name="email" autocomplete="email" class="w-full pl-12 pr-10 py-3.5 rounded-xl border border-neutral-300 focus:border-primary-600 focus:ring-2 focus:ring-primary-200 outline-none transition-all" placeholder="jean.dupont@email.fr"> <svg class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400" aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path> </svg> <div class="absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 hidden" id="email-check"> <svg class="w-5 h-5 text-success-600" aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> </div> </div> <small class="text-xs text-red-600 hidden" data-error-for="email"></small> </div> <div class="relative"> <label for="code_postal" class="block text-sm font-semibold text-neutral-700 mb-2">
Code postal du lieu à traiter
</label> <div class="relative"> <input type="text" id="code_postal" name="code_postal" inputmode="numeric" pattern="^[0-9]{5}$" class="w-full pl-12 pr-10 py-3.5 rounded-xl border border-neutral-300 focus:border-primary-600 focus:ring-2 focus:ring-primary-200 outline-none transition-all" placeholder="75011"> <svg class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400" aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path> </svg> </div> <p class="text-xs text-neutral-500 mt-1">Code postal sur 5 chiffres.</p> <small class="text-xs text-red-600 hidden" data-error-for="code_postal"></small> </div> </div> <div> <label for="message" class="block text-sm font-semibold text-neutral-700 mb-2">
Décrivez brièvement votre situation <span class="text-neutral-400">(facultatif)</span> </label> <textarea id="message" name="message" rows="3" class="w-full px-4 py-3 rounded-xl border border-neutral-300 focus:border-primary-600 focus:ring-2 focus:ring-primary-200 outline-none transition-all resize-none" placeholder="Depuis quand ? Dans quelles pièces ? Intensité de l'infestation…"></textarea> </div> <!-- RGPD --> <label class="flex items-start gap-3 text-xs text-neutral-600 leading-relaxed"> <input type="checkbox" name="rgpd" class="mt-0.5 w-4 h-4 rounded border-neutral-300 text-primary-600 focus:ring-2 focus:ring-primary-200"> <span>J’accepte d’être recontacté par Stop-Punaises. <a href="/politique-de-confidentialite" class="text-primary-600 hover:underline" target="_blank" rel="noopener">En savoir plus</a></span> </label> <div class="grid sm:grid-cols-2 gap-3"> <button type="button" id="prevStepBtn" class="inline-flex items-center justify-center rounded-lg border border-neutral-300 px-4 py-3 hover:bg-neutral-50 transition-all">
← Retour
<button type="submit" class="btn-primary mt-4" data-form-id="footerLeadForm" data-form-name="Formulaire bas de page" data-form-type="devis" data-value="290" data-tracking-source="form-footer-lp" data-tracking-campaign data-tracking-medium data-tracking-content>  Obtenir mon devis  <svg class="w-4 h-4 ml-2 transition-transform group-hover:translate-x-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path> </svg> </button> </button></div> <p class="text-xs text-neutral-500 text-center">🔒 Données protégées – confidentiel</p> </div> </form> <!-- SUCCÈS --> <div id="footerLeadSuccess" class="hidden text-center py-8"> <div class="w-16 h-16 bg-success-100 rounded-full flex items-center justify-center mx-auto mb-4"> <svg class="w-8 h-8 text-success-600" aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path> </svg> </div> <h3 class="text-xl font-bold text-primary-600 mb-2">Demande envoyée avec succès !</h3> <p class="text-neutral-600">Un technicien vous rappelle sous 4h pour établir votre devis personnalisé.</p> </div> </div> </div> <!-- SIDEBAR (sticky pour harmonie visuelle) --> <aside class="space-y-6 lg:sticky lg:top-24"> <!-- Contact direct --> <div class="bg-white rounded-2xl border border-neutral-200 p-6 shadow-soft"> <h3 class="font-bold text-primary-600 mb-4 flex items-center gap-2"> <svg class="w-5 h-5" aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
Besoin d’une réponse immédiate ?
</h3> <a href="tel:+33676738661" target="_top" rel="noopener" class="flex items-center gap-3 p-4 rounded-xl border border-neutral-200 hover:border-primary-400 hover:bg-primary-50 transition-all group" data-action="call" data-source="form_sidebar" aria-label="Appeler Stop-Punaises au 06 76 73 86 61"> <!-- Icône unique --> <div class="w-12 h-12 rounded-xl bg-primary-600 flex items-center justify-center group-hover:scale-105 transition-transform shrink-0"> <svg class="w-6 h-6 text-white" aria-hidden="true" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"> <path stroke-linecap="round" stroke-linejoin="round" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path> </svg> </div> <div class="flex-1 min-w-0"> <!-- Empêche le retour à la ligne du numéro --> <div class="font-bold text-neutral-900 text-lg leading-none whitespace-nowrap">06 76 73 86 61</div> <div class="text-sm text-primary-700 font-medium mt-1">📞 Appel gratuit • Disponible 7j/7</div> </div> <div class="bg-success-100 text-success-700 text-xs font-bold px-2 py-1 rounded-full shrink-0">DIRECT</div> </a> </div> <!-- Pourquoi nous choisir (compact) --> <div class="bg-gradient-to-br from-success-50 to-success-100 rounded-2xl border border-success-200 p-6"> <h3 class="font-bold text-success-800 mb-4 flex items-center gap-2"> <svg class="w-5 h-5" aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
Pourquoi nos clients nous choisissent
</h3> <ul class="space-y-3 text-sm"> <li class="flex items-start gap-3"> <div class="w-5 h-5 rounded-full bg-success-500 flex items-center justify-center flex-shrink-0 mt-0.5" aria-hidden="true"> <svg class="w-3 h-3 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg> </div> <div><strong class="text-success-800">Devis gratuit</strong> en moins de 4h<div class="text-xs text-success-600 mt-1">Sans engagement</div></div> </li> <li class="flex items-start gap-3"> <div class="w-5 h-5 rounded-full bg-success-500 flex items-center justify-center flex-shrink-0 mt-0.5" aria-hidden="true"> <svg class="w-3 h-3 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg> </div> <div><strong class="text-success-800">Intervention sous 24h</strong> à Paris<div class="text-xs text-success-600 mt-1">Urgences possibles</div></div> </li> <li class="flex items-start gap-3"> <div class="w-5 h-5 rounded-full bg-success-500 flex items-center justify-center flex-shrink-0 mt-0.5" aria-hidden="true"> <svg class="w-3 h-3 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg> </div> <div><strong class="text-success-800">Garantie 6 mois</strong> (retraitement gratuit)</div> </li> </ul> </div> <!-- Certifications + horaires (compact) --> </aside> </div> <div class="text-center mt-8"> <a href="/politique-de-confidentialite" class="text-xs text-neutral-500 hover:text-primary-600 transition-colors" target="_blank" rel="noopener">
🔒 Données protégées – Voir notre politique de confidentialité
</a> </div> </div> </section>  <script>
(() => {
  // Lance init quand le DOM est prêt
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }

  function init() {
    // Prépare dataLayer pour GTM
    window.dataLayer = window.dataLayer || [];

    const form = document.getElementById('footerLeadForm');
    if (!form) return;

    // Scope
    const cardRoot   = form.closest('.bg-white.rounded-2xl') || form.parentElement;
    const statusEl   = cardRoot?.querySelector('[data-form-status]') || null;
    const successBox = cardRoot?.querySelector('#footerLeadSuccess') || null;

    const nextBtn       = form.querySelector('#nextStepBtn');
    const openStep2Link = form.querySelector('#openStep2Link');
    const prevBtn       = form.querySelector('#prevStepBtn');
    const submitBtn     = form.querySelector('button[type="submit"]');

    const step1 = form.querySelector('[data-step="1"]');
    const step2 = form.querySelector('[data-step="2"]');

    const prenom    = form.querySelector('#prenom');
    const telephone = form.querySelector('#telephone');
    const email     = form.querySelector('#email');
    const cp        = form.querySelector('#code_postal');
    const messageEl = form.querySelector('#message');

    // UI helpers
    const show = (el) => el && el.classList.remove('hidden');
    const hide = (el) => el && el.classList.add('hidden');
    const setStatus = (msg, ok = true) => {
      if (!statusEl) return;
      statusEl.textContent = msg || '';
      statusEl.classList.toggle('hidden', !msg);
      statusEl.classList.toggle('text-success-700', ok);
      statusEl.classList.toggle('text-red-600', !ok);
    };
    const setError = (name, msg) => {
      const el = form.querySelector(`[data-error-for="${name}"]`);
      if (el) { el.textContent = msg || ''; el.classList.toggle('hidden', !msg); }
    };
    const spin = (on, label = 'Envoi…') => {
      if (!submitBtn) return;
      if (on) {
        submitBtn.dataset._oldText = submitBtn.textContent || '';
        submitBtn.disabled = true;
        submitBtn.setAttribute('aria-busy','true');
        submitBtn.textContent = label;
      } else {
        submitBtn.disabled = false;
        submitBtn.setAttribute('aria-busy','false');
        if (submitBtn.dataset._oldText) submitBtn.textContent = submitBtn.dataset._oldText;
      }
    };

    // Validation FR
    const normalizePhone = (s='') => { let v = s.replace(/[^\d+]/g,''); if (v.startsWith('00')) v='+'+v.slice(2); return v; };
    const validPhoneFR   = (s) => { const v=normalizePhone(s); return /^0[1-9]\d{8}$/.test(v) || /^\+33[1-9]\d{8}$/.test(v); };
    const validEmail     = (s) => !s || /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s);
    const validCPByAttr  = (input) => {
      if (!input) return true;
      const v = (input.value || '').trim();
      if (!v) return true;
      const pat = input.getAttribute('pattern');
      if (!pat) return /^\d{5}$/.test(v);
      try { return new RegExp(pat).test(v); } catch { return /^\d{5}$/.test(v); }
    };

    // Live phone formatting + check
    telephone?.addEventListener('input', (e) => {
      const input = e.target;
      let v = normalizePhone(input.value || '');
      let formatted = '';
      if (v.startsWith('+33')) {
        let rest = v.slice(3).replace(/\D/g, '');
        if (rest.startsWith('0')) rest = rest.slice(1);
        rest = rest.slice(0, 9);
        const chunks = [];
        if (rest.length > 0) chunks.push(rest.slice(0, 1));
        for (let i = 1; i < rest.length; i += 2) chunks.push(rest.slice(i, i + 2));
        formatted = '+33 ' + chunks.join(' ');
      } else {
        let digits = v.replace(/\D/g, '').slice(0, 10);
        const chunks = [];
        if (digits.length >= 2) {
          chunks.push(digits.slice(0, 2));
          for (let i = 2; i < digits.length; i += 2) chunks.push(digits.slice(i, i + 2));
        } else {
          chunks.push(digits);
        }
        formatted = chunks.join(' ');
      }
      input.value = formatted.trim();
      const ok = validPhoneFR(input.value);
      const check = form.querySelector('#telephone-check');
      input.classList.toggle('valid', ok);
      input.classList.toggle('invalid', !ok && input.value.length>0);
      if (check) check.classList.toggle('hidden', !ok);
      setError('telephone', ok || !input.value ? '' : 'Numéro FR invalide.');
    });

    telephone?.addEventListener('blur', (e) => {
      const ok = validPhoneFR(e.target.value);
      setError('telephone', ok || !e.target.value ? '' : 'Numéro FR invalide.');
    });

    // Navigation d’étapes
    function gotoStep2(force = false) {
      setError('telephone', '');
      const val = (telephone?.value || '').trim();
      if (!force && !validPhoneFR(val)) {
        setError('telephone', 'Numéro FR invalide.');
        telephone?.focus();
        return;
      }
      hide(step1); show(step2); setStatus('');
      setTimeout(() => email?.focus?.(), 40);
    }
    function backToStep1() {
      hide(step2); show(step1); setStatus('');
      setTimeout(() => telephone?.focus(), 40);
    }

    nextBtn?.addEventListener('click', () => gotoStep2(false));
    openStep2Link?.addEventListener('click', () => gotoStep2(true));
    prevBtn?.addEventListener('click', backToStep1);

    // Soumission
    form.addEventListener('submit', async (ev) => {
      ev.preventDefault();
      setStatus('', true);
      ['telephone','email','code_postal'].forEach(n => setError(n,''));

      const okPhone = validPhoneFR(telephone?.value || '');
      const okEmail = validEmail((email?.value || '').trim());
      const okCP    = validCPByAttr(cp);

      if (!okPhone) setError('telephone','Numéro FR invalide.');
      if (!okEmail) setError('email','Email invalide.');
      if (!okCP)    setError('code_postal','Code postal invalide.');

      if (!(okPhone && okEmail && okCP)) {
        setStatus('Veuillez corriger les champs indiqués en rouge.', false);
        return;
      }

      spin(true, 'Envoi…');

      try {
        const fd = new FormData(form);
        fd.append('form_context', 'footer_2step');

        const res = await fetch(form.action, { method: 'POST', body: fd });

        if (!res.ok) {
          const msg = (await res.text().catch(() => '')) || 'Erreur lors de l’envoi. Merci de vérifier vos informations.';
          spin(false);
          setStatus(msg, false);

          // 🔴 Tracking erreur
          document.dispatchEvent(new CustomEvent('formError', {
            detail: { formId: 'footerLeadForm', error: new Error('HTTP not ok') },
          }));
          window.dataLayer.push({
            event: 'lead_error',
            formId: 'footerLeadForm',
            reason: 'http_not_ok'
          });

          return;
        }

        // 🟢 Succès
        document.dispatchEvent(new CustomEvent('formSuccess', { detail: { formId: 'footerLeadForm' } }));

        // ⚑ GTM / Google Ads
        window.dataLayer.push({
          event: 'lead_generated',            // ← ton déclencheur GTM
          formId: 'footerLeadForm',
          source: form.dataset.source || 'form-footer',
          formType: form.dataset.formType || 'devis'
        });

        spin(false);

        // Succès visuel inline
        form.setAttribute('aria-hidden','true');
        form.style.pointerEvents = 'none';
        form.innerHTML = `
          <div class="text-center py-8 animate-fade-in">
            <div class="w-16 h-16 bg-success-100 rounded-full flex items-center justify-center mx-auto mb-4">
              <svg class="w-8 h-8 text-success-600" aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <h3 class="text-xl font-bold text-primary-600 mb-2">Merci !</h3>
            <p class="text-neutral-700 max-w-md mx-auto">
              Nous vous recontactons sous <strong>4&nbsp;h</strong> pour votre devis personnalisé.<br>
              En attendant, découvrez notre protocole de préparation<br>
              pour maximiser l’efficacité du traitement.
            </p>
            <p class="mt-6 text-sm text-neutral-500">Redirection automatique…</p>
          </div>
        `;

        try { form.scrollIntoView({ behavior: 'smooth', block: 'center' }); } catch {}

        try {
          window.gtag?.('event','generate_lead',{
            event_category:'lead',
            event_label: form.dataset.source || 'form-footer',
            value:1
          });
        } catch {}

        setTimeout(() => { window.location.assign('/protocole-punaises-de-lit'); }, 4000);

      } catch (e) {
        console.error('[footerLeadForm] fetch error:', e);
        spin(false);
        setStatus('Erreur réseau, merci de réessayer ou de nous appeler.', false);

        document.dispatchEvent(new CustomEvent('formError', { detail: { formId: 'footerLeadForm', error: e } }));
        window.dataLayer.push({
          event: 'lead_error',
          formId: 'footerLeadForm',
          reason: 'network_error'
        });
      }
    });
  }
})();
</script>  <section id="faq-express" class="py-16 bg-white" aria-labelledby="faq-express-title" data-astro-cid-dpwu4by2> <div class="container-responsive max-w-2xl" data-astro-cid-dpwu4by2> <div class="text-center mb-10" data-astro-cid-dpwu4by2> <h2 id="faq-express-title" class="text-2xl lg:text-3xl font-bold text-primary-600 mb-2" data-astro-cid-dpwu4by2>
Questions urgentes
</h2> <p class="text-sm text-neutral-600" data-astro-cid-dpwu4by2>Réponses claires, devis rapide, intervention possible aujourd’hui.</p> </div> <div class="space-y-4" role="list" data-astro-cid-dpwu4by2> <!-- ITEM --> <details id="faq-tarifs" class="group bg-neutral-50 rounded-xl border border-neutral-200 overflow-hidden transition-all
               shadow-none hover:border-primary-400 hover:shadow-sm
               open:shadow-md open:border-primary-500 open:ring-2 open:ring-primary-100" role="listitem" data-astro-cid-dpwu4by2> <summary class="list-none cursor-pointer px-6 py-4 font-semibold text-primary-600 flex items-center justify-between gap-4
                 hover:bg-neutral-100 transition-colors [&::-webkit-details-marker]:hidden
                 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-200 focus-visible:ring-offset-2" data-astro-cid-dpwu4by2> <span class="flex-1 text-left" data-astro-cid-dpwu4by2>Combien ça coûte ?</span> <svg class="w-5 h-5 shrink-0 transition-transform duration-200 group-open:rotate-180" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" aria-hidden="true" data-astro-cid-dpwu4by2> <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" data-astro-cid-dpwu4by2></path> </svg> </summary> <div data-panel class="px-6 pb-4 text-sm text-neutral-700 will-change-[max-height,opacity]" data-astro-cid-dpwu4by2>
À partir de <strong data-astro-cid-dpwu4by2>550€</strong> selon surface. Devis gratuit sous 4h.
          Paiement en <strong data-astro-cid-dpwu4by2>2 ou 3 fois</strong> possible.
</div> </details> <!-- ITEM --> <details id="faq-aujourdhui" class="group bg-neutral-50 rounded-xl border border-neutral-200 overflow-hidden transition-all
               shadow-none hover:border-primary-400 hover:shadow-sm
               open:shadow-md open:border-primary-500 open:ring-2 open:ring-primary-100" role="listitem" data-astro-cid-dpwu4by2> <summary class="list-none cursor-pointer px-6 py-4 font-semibold text-primary-600 flex items-center justify-between gap-4
                 hover:bg-neutral-100 transition-colors [&::-webkit-details-marker]:hidden
                 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-200 focus-visible:ring-offset-2" data-astro-cid-dpwu4by2> <span class="flex-1 text-left" data-astro-cid-dpwu4by2>Intervention aujourd'hui ?</span> <svg class="w-5 h-5 shrink-0 transition-transform duration-200 group-open:rotate-180" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" aria-hidden="true" data-astro-cid-dpwu4by2> <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" data-astro-cid-dpwu4by2></path> </svg> </summary> <div data-panel class="px-6 pb-4 text-sm text-neutral-700 will-change-[max-height,opacity]" data-astro-cid-dpwu4by2>
Oui selon disponibilités. Appelez pour vérifier les créneaux du <strong data-astro-cid-dpwu4by2>jour même</strong>.
</div> </details> <!-- ITEM --> <details id="faq-garantie" class="group bg-neutral-50 rounded-xl border border-neutral-200 overflow-hidden transition-all
               shadow-none hover:border-primary-400 hover:shadow-sm
               open:shadow-md open:border-primary-500 open:ring-2 open:ring-primary-100" role="listitem" data-astro-cid-dpwu4by2> <summary class="list-none cursor-pointer px-6 py-4 font-semibold text-primary-600 flex items-center justify-between gap-4
                 hover:bg-neutral-100 transition-colors [&::-webkit-details-marker]:hidden
                 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-200 focus-visible:ring-offset-2" data-astro-cid-dpwu4by2> <span class="flex-1 text-left" data-astro-cid-dpwu4by2>Est-ce garanti ?</span> <svg class="w-5 h-5 shrink-0 transition-transform duration-200 group-open:rotate-180" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" aria-hidden="true" data-astro-cid-dpwu4by2> <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" data-astro-cid-dpwu4by2></path> </svg> </summary> <div data-panel class="px-6 pb-4 text-sm text-neutral-700 will-change-[max-height,opacity]" data-astro-cid-dpwu4by2> <strong data-astro-cid-dpwu4by2>Garantie 6 mois</strong>. Retraitement gratuit en cas de récidive pendant la période couverte.
</div> </details> <!-- ITEM --> <details id="faq-produits" class="group bg-neutral-50 rounded-xl border border-neutral-200 overflow-hidden transition-all
               shadow-none hover:border-primary-400 hover:shadow-sm
               open:shadow-md open:border-primary-500 open:ring-2 open:ring-primary-100" role="listitem" data-astro-cid-dpwu4by2> <summary class="list-none cursor-pointer px-6 py-4 font-semibold text-primary-600 flex items-center justify-between gap-4
                 hover:bg-neutral-100 transition-colors [&::-webkit-details-marker]:hidden
                 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-200 focus-visible:ring-offset-2" data-astro-cid-dpwu4by2> <span class="flex-1 text-left" data-astro-cid-dpwu4by2>Quels produits utilisez-vous ?</span> <svg class="w-5 h-5 shrink-0 transition-transform duration-200 group-open:rotate-180" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" aria-hidden="true" data-astro-cid-dpwu4by2> <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" data-astro-cid-dpwu4by2></path> </svg> </summary> <div data-panel class="px-6 pb-4 text-sm text-neutral-700 will-change-[max-height,opacity]" data-astro-cid-dpwu4by2>
Protocole combiné <strong data-astro-cid-dpwu4by2>vapeur sèche</strong> + biocide professionnel ciblé. Consignes de sécurité fournies.
</div> </details> </div> </div> </section>  <script type="module">(function(){const s=document.getElementById("faq-express");if(!s)return;const r=Array.from(s.querySelectorAll("details")),i=e=>{r.forEach(t=>{t!==e&&t.removeAttribute("open")})},o=e=>{const t=e.querySelector("[data-panel]");t&&(e.open?(t.style.maxHeight=t.scrollHeight+"px",t.style.opacity="1"):(t.style.maxHeight="0px",t.style.opacity="0.98"))};r.forEach(e=>o(e)),r.forEach(e=>{e.addEventListener("toggle",()=>{e.open&&i(e),o(e),history.replaceState(null,"","#"+e.id)},{passive:!0});const t=e.querySelector("summary");t&&t.setAttribute("aria-controls",e.id)});const a=()=>{const e=(location.hash||"").replace("#","");if(!e)return;const t=s.querySelector("details#"+CSS.escape(e));t&&(t.setAttribute("open",""),i(t),o(t),t.scrollIntoView({behavior:"smooth",block:"start"}))};a(),window.addEventListener("hashchange",a,{passive:!0});let n;window.addEventListener("resize",()=>{clearTimeout(n),n=setTimeout(()=>{r.forEach(e=>{e.open&&o(e)})},120)},{passive:!0})})();
//# sourceMappingURL=traitement-punaises-de-lit-paris.astro_astro_type_script_index_0_lang.B1mjg5z_.js.map</script>   </main> <footer class="bg-[#1E2939] text-white"> <div class="container-responsive"> <!-- Section CTA finale --> <div class="py-8 lg:py-12 text-center border-b border-gray-700"> <h2 class="text-2xl lg:text-3xl font-bold mb-4"> Prêt à démarrer votre projet ? </h2> <p class="text-gray-300 mb-6 max-w-2xl mx-auto">
Intervention rapide en Île-de-France. Devis gratuit, protocoles certifiés,
        matériel professionnel.
</p> <div class="flex flex-col sm:flex-row items-center justify-center gap-4"> <!-- CTA principal --> <a href="/contact#formulaire?utm_source=footer_lp&#38;utm_medium=website&#38;utm_content=cta-devis&#38;utm_source=footer_lp&#38;utm_medium=website&#38;utm_content=footer-cta" target="_top" rel="noopener" aria-label="Devis gratuit sous 24h" class="btn-touch btn-secondary text-lg py-4 px-8 gap-2 text-[#111826]" data-action="footer-cta" data-source="footer_lp"> Devis gratuit sous 24h<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4-4 4M3 12h18"></path> </svg>  </a> <!-- Lien WhatsApp --> <a href="https://wa.me/33676738661" target="_top" rel="noopener noreferrer" aria-label="Contacter via WhatsApp" class="btn-touch btn-primary text-lg py-4 px-8 gap-2 bg-[#25D366] hover:bg-[#128C7E] text-white border-0" data-action="footer-whatsapp" data-source="footer_lp">  <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"> <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.893 3.690"></path> </svg>
WhatsApp
 </a> </div> </div> <!-- Informations essentielles --> <div class="py-8"> <div class="grid md:grid-cols-3 gap-8 text-center md:text-left"> <div> <h3 class="font-semibold text-lg mb-3 text-[var(--color-action-600)]">Contact direct</h3> <div class="space-y-2 text-sm"> <p class="text-gray-200">contact@klinova.fr</p> <p class="text-gray-400 text-xs">Disponible 7j/7 pour urgences</p> </div> </div> <div> <h3 class="font-semibold text-lg mb-3 text-[var(--color-action-600)]">Zone d'intervention</h3> <div class="space-y-1 text-sm text-gray-200"> <p>Paris (tous arrondissements)</p> <p>Petite couronne (92, 93, 94)</p> <p class="text-gray-400 text-xs">Devis possible grande couronne</p> </div> </div> <div> <h3 class="font-semibold text-lg mb-3 text-[var(--color-action-600)]">Nos garanties</h3> <div class="space-y-1 text-sm text-gray-200"> <p>✓ Devis gratuit sous 24h</p> <p>✓ Équipements professionnels</p> <p>✓ Protocoles certifiés</p> </div> </div> </div> </div> <!-- Barre légale --> <div class="border-t border-gray-700 py-4"> <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 text-xs text-gray-400"> <div class="flex items-center gap-3"> <span class="font-semibold text-white">Klinova</span> <span>© 2025</span> <span>SIRET : 943 439 810</span> </div> <div class="flex items-center gap-3"> <a href="/mentions-legales" class="hover:text-[var(--color-action-600)] transition-colors">Mentions légales</a> <span>•</span> <a href="/politique-de-confidentialite" class="hover:text-[var(--color-action-600)] transition-colors">Confidentialité</a> </div> </div> </div> </div> </footer> <!-- CTA flottant --> <div id="sticky-cta" role="region" aria-label="Actions rapides : appel ou devis" data-showafter="scroll" data-target="[data-hide-cta]" class="fixed bottom-0 inset-x-0 z-50 bg-white border-t border-neutral-200 shadow-2xl pb-[max(env(safe-area-inset-bottom),12px)] lg:hidden" style="display:none"><div class="container-responsive py-3 flex items-center gap-3"><!-- 📞 Appel (CTA principal) --><a href="tel:+33630221228" target="_top" rel="noopener" aria-label="Appeler le 06 30 22 12 28" class="btn-touch btn-primary flex-[1.3] min-h-[52px] py-3.5 rounded-xl phone-pulse font-bold text-base active:scale-95 flex items-center justify-center gap-2" data-action="call_direct" data-source="mobile_bar_bottom" data-intent="urgent_contact"> <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg><span class="font-bold text-white">06 30 22 12 28</span> </a><!-- 🧾 Devis (ouvre popup ; fallback contact) --><a href="/contact#formulaire?utm_source=mobile_bar_bottom&#38;utm_medium=website&#38;utm_content=get_quote" target="_top" rel="noopener" aria-label="Demander un devis gratuit" class="btn-touch btn-secondary flex-1 min-h-[52px] py-3.5 rounded-xl text-sm font-semibold active:scale-95 text-center" data-action="form_request" data-source="mobile_bar_bottom" data-intent="get_quote" data-open-popup="cta" data-variant="mobile-cta"> <svg class="w-4 h-4 mr-1 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
Devis gratuit
 </a></div><!-- Indicateur confiance --><div class="text-center pb-1"><div class="inline-flex items-center gap-2 text-xs text-neutral-500"><div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div><span>Disponible 7j/7 • Intervention rapide</span></div></div></div><script>
document.addEventListener('DOMContentLoaded', () => {
  const bar = document.getElementById('sticky-cta');
  if (!bar) return;                     // ✅ vérifier d'abord

  bar.style.willChange = 'transform, opacity'; // ✅ ensuite le hint GPU


  if (!bar) return;

  // Mobile only: ne rien faire sur desktop si lg:hidden
  if (bar.classList.contains('lg:hidden') && window.matchMedia('(min-width: 1024px)').matches) return;

  const showAfter = bar.dataset.showafter || 'scroll';
  const targetSel = bar.dataset.target || '[data-hero]';
  const mobileMenu = document.getElementById('mobileMenu');

  const isMenuOpen = () => !!(mobileMenu && mobileMenu.dataset.state === 'open');
  const showBar = () => { if (!isMenuOpen()) { bar.style.display = ''; requestAnimationFrame(() => { bar.style.transform = 'translateY(0)'; bar.style.opacity = '1'; }); } };
 const hideBar = () => {
  requestAnimationFrame(() => { // PATCH: évite micro-janks
    bar.style.transform = 'translateY(100%)';
    bar.style.opacity = '0';
    setTimeout(() => {
      if (bar.style.transform === 'translateY(100%)') bar.style.display = 'none';
    }, 320);
  });
};

  // Transitions slide-up
bar.style.transition = 'transform 320ms cubic-bezier(.22,.61,.36,1), opacity 280ms ease-out'; // PATCH

  bar.style.transform = 'translateY(100%)';
  bar.style.opacity = '0';

  // Mémoire état hero pour IO
  let io;
  let lastHeroInView = null; // true: hero visible / false: hero hors-vue

  const shouldShowByPageState = () => {
    if (showAfter === 'immediate') return true;
    const target = document.querySelector(targetSel);
    if (!('IntersectionObserver' in window) || !target) return window.scrollY > 120;
    return null; // géré par IO
  };

const setupIO = () => {
  const targets = Array.from(document.querySelectorAll(targetSel)); // ex: [data-hide-cta]
  if (!('IntersectionObserver' in window) || targets.length === 0) return () => {};

  // État de visibilité de chaque cible
  const visibility = new Map(targets.map(t => [t, false]));

  io = new IntersectionObserver((entries) => {
    let anyVisible = false;

    for (const entry of entries) {
      visibility.set(entry.target, !!entry.isIntersecting);
    }
    for (const v of visibility.values()) {
      if (v) { anyVisible = true; break; }
    }

    lastHeroInView = anyVisible; // on réutilise ta variable d’état
    if (isMenuOpen()) { hideBar(); return; }
    anyVisible ? hideBar() : showBar();
  }, {
    threshold: 0.05,
    rootMargin: '-72px 0px 0px 0px' // marge top pour tenir compte du header sticky
  });

  targets.forEach(t => io.observe(t));
  return () => io && io.disconnect();
};


  const recompute = () => {
    if (isMenuOpen()) { hideBar(); return; }
    const state = shouldShowByPageState();
    if (state === null) { // mode IO
      if (lastHeroInView === false) showBar();
      else hideBar();
      return;
    }
    state ? showBar() : hideBar();
  };

  const setupScrollFallback = () => {
    const target = document.querySelector(targetSel);
    if ('IntersectionObserver' in window && target) return () => {};
    const onScroll = () => recompute();
    window.addEventListener('scroll', onScroll, { passive: true });
    return () => window.removeEventListener('scroll', onScroll);
  };

  const onMenuOpen = () => hideBar();
  const onMenuClose = () => setTimeout(recompute, 360);

  window.addEventListener('sp:menu_open', onMenuOpen);
  window.addEventListener('sp:menu_close', onMenuClose);

  const onResize = () => recompute();
  window.addEventListener('resize', onResize);

  // Init
  hideBar();
  const teardownScroll = setupScrollFallback();
  const teardownIO = setupIO();
  setTimeout(recompute, 100);

  // Cleanup (Astro navigation)
  window.addEventListener('astro:after-swap', () => {
    window.removeEventListener('resize', onResize);
    window.removeEventListener('sp:menu_open', onMenuOpen);
    window.removeEventListener('sp:menu_close', onMenuClose);
    teardownScroll && teardownScroll();
    teardownIO && teardownIO();
  });

  // Petit tracking optionnel
  bar.addEventListener('click', (e) => {
    const button = e.target.closest('a[href^="tel:"], button, a[data-open-popup]');
    if (button && window.gtag) {
      const action = button.href?.startsWith?.('tel:') ? 'phone_call' : 'form_request';
      window.gtag('event', action, { event_category: 'mobile_cta', event_label: 'floating_bottom_bar' });
    }
  });
});
</script> <!-- Popup (lecture via props +/ou body.dataset selon ton composant) --> <!-- POPUP OVERLAY --><div class="popup-overlay" id="popupOverlay" hidden data-astro-cid-bageulfn> <div class="popup-form" id="popupForm" role="dialog" aria-modal="true" aria-labelledby="popupTitleH2" tabindex="-1" data-astro-cid-bageulfn> <!-- Header --> <div class="popup-header relative overflow-hidden" data-astro-cid-bageulfn> <div class="absolute inset-0 opacity-10 pointer-events-none" aria-hidden="true" data-astro-cid-bageulfn> <svg class="w-full h-full" viewBox="0 0 100 100" preserveAspectRatio="none" data-astro-cid-bageulfn> <defs data-astro-cid-bageulfn> <pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse" data-astro-cid-bageulfn> <path d="M 10 0 L 0 0 0 10" fill="none" stroke="white" stroke-width="0.5" data-astro-cid-bageulfn></path> </pattern> </defs> <rect width="100" height="100" fill="url(#grid)" data-astro-cid-bageulfn></rect> </svg> </div> <div class="relative z-10" data-astro-cid-bageulfn> <div class="header-accent" data-astro-cid-bageulfn></div> <div id="popupTitle" data-astro-cid-bageulfn> <h2 id="popupTitleH2" data-astro-cid-bageulfn>Devis express anti-punaises</h2> <p data-astro-cid-bageulfn>Réponse sous 4h • Intervention possible aujourd'hui</p> <div class="trust-badges" data-astro-cid-bageulfn> <div class="trust-item" data-astro-cid-bageulfn> <div class="trust-icon-wrapper" data-astro-cid-bageulfn> <svg class="trust-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" data-astro-cid-bageulfn> <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" data-astro-cid-bageulfn></path> </svg> </div> <span data-astro-cid-bageulfn>Certibiocide &amp; CertiPunaises</span> </div> <div class="trust-item" data-astro-cid-bageulfn> <div class="trust-icon-wrapper" data-astro-cid-bageulfn> <svg class="trust-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" data-astro-cid-bageulfn> <path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" data-astro-cid-bageulfn></path> </svg> </div> <span data-astro-cid-bageulfn>Réponse &lt; 4h ouvrées</span> </div> <div class="trust-item" data-astro-cid-bageulfn> <div class="trust-icon-wrapper" data-astro-cid-bageulfn> <svg class="trust-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" data-astro-cid-bageulfn> <path d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" data-astro-cid-bageulfn></path> </svg> </div> <span data-astro-cid-bageulfn>Données protégées RGPD</span> </div> </div> </div> </div> <button class="popup-close" id="closePopup" aria-label="Fermer" data-astro-cid-bageulfn> <span class="close-icon" data-astro-cid-bageulfn></span> </button> </div> <!-- Body --> <div class="popup-body" data-astro-cid-bageulfn> <!-- Progress --> <div class="progress-container" data-astro-cid-bageulfn> <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" data-astro-cid-bageulfn> <div class="progress-fill" id="progressFill" data-astro-cid-bageulfn></div> </div> <div class="progress-text" data-astro-cid-bageulfn> <span id="progressText" data-astro-cid-bageulfn>Étape 1/3</span> </div> </div> <div class="urgence-badge premium" id="urgenceBadge" style="display:none;" data-astro-cid-bageulfn> <div class="badge-pulse" data-astro-cid-bageulfn></div> <span data-astro-cid-bageulfn>Intervention d'urgence - Réponse immédiate</span> </div> <div id="formMessage" class="form-message premium" style="display:none;" role="status" aria-live="polite" data-astro-cid-bageulfn></div> <!-- Form --> <form id="contactForm" action="/api/contact" method="POST" novalidate aria-describedby="formMessage" data-astro-cid-bageulfn> <input type="text" name="website" style="display:none;" tabindex="-1" autocomplete="off" data-astro-cid-bageulfn> <input type="hidden" id="popup-service-key" name="service_key" data-astro-cid-bageulfn> <input type="hidden" id="popup-service-label" name="service_label" data-astro-cid-bageulfn> <input type="hidden" id="popup-subject" name="subject" data-astro-cid-bageulfn> <input type="hidden" name="page_path" value="/traitement-punaises-de-lit-paris/" data-astro-cid-bageulfn> <!-- Prénom --> <div class="form-group premium" data-astro-cid-bageulfn> <div class="floating-label-group" data-astro-cid-bageulfn> <input type="text" id="popup-prenom" name="prenom" class="form-input premium" placeholder=" " required autocomplete="given-name" enterkeyhint="next" data-astro-cid-bageulfn> <label class="floating-label required" for="popup-prenom" data-astro-cid-bageulfn>Prénom</label> <div class="field-border" data-astro-cid-bageulfn></div> <div class="validation-icon success" data-astro-cid-bageulfn> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" data-astro-cid-bageulfn> <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" data-astro-cid-bageulfn></path> </svg> </div> <div class="validation-icon error" data-astro-cid-bageulfn> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" data-astro-cid-bageulfn> <path d="M18 6L6 18M6 6l12 12" data-astro-cid-bageulfn></path> </svg> </div> </div> <div class="form-error premium" id="error-prenom" data-astro-cid-bageulfn></div> </div> <!-- Téléphone --> <div class="form-group premium" data-astro-cid-bageulfn> <div class="floating-label-group" data-astro-cid-bageulfn> <input type="tel" id="popup-telephone" name="telephone" class="form-input premium" placeholder=" " autocomplete="tel" inputmode="tel" required enterkeyhint="next" data-astro-cid-bageulfn> <label class="floating-label required" for="popup-telephone" data-astro-cid-bageulfn>Téléphone</label> <div class="field-border" data-astro-cid-bageulfn></div> <div class="input-hint" data-astro-cid-bageulfn>Format : 06... ou +33...</div> <div class="validation-icon success" data-astro-cid-bageulfn> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" data-astro-cid-bageulfn> <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" data-astro-cid-bageulfn></path> </svg> </div> <div class="validation-icon error" data-astro-cid-bageulfn> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" data-astro-cid-bageulfn> <path d="M18 6L6 18M6 6l12 12" data-astro-cid-bageulfn></path> </svg> </div> <input type="hidden" id="popup-telephone-e164" name="telephone_e164" data-astro-cid-bageulfn> </div> <div class="form-error premium" id="error-telephone" data-astro-cid-bageulfn></div> </div> <!-- Code postal --> <div class="form-group premium" data-astro-cid-bageulfn> <div class="floating-label-group" data-astro-cid-bageulfn> <input type="text" id="popup-code-postal" name="code_postal" class="form-input premium" placeholder=" " inputmode="numeric" pattern="[0-9]{5}" required maxlength="5" enterkeyhint="done" data-astro-cid-bageulfn> <label class="floating-label required" for="popup-code-postal" data-astro-cid-bageulfn>Code postal</label> <div class="field-border" data-astro-cid-bageulfn></div> <div class="input-hint" data-astro-cid-bageulfn>5 chiffres (ex. 75011). Île-de-France uniquement.</div> <div class="validation-icon success" data-astro-cid-bageulfn> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" data-astro-cid-bageulfn> <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" data-astro-cid-bageulfn></path> </svg> </div> <div class="validation-icon error" data-astro-cid-bageulfn> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" data-astro-cid-bageulfn> <path d="M18 6L6 18M6 6l12 12" data-astro-cid-bageulfn></path> </svg> </div> </div> <div class="form-error premium" id="error-code-postal" data-astro-cid-bageulfn></div> </div> <!-- Crédit d'impôt (optionnel, caché par défaut) --> <div class="form-group premium" id="credit-impot-question" style="display:none;" data-astro-cid-bageulfn> <label class="switch-label" for="credit-impot-oui" data-astro-cid-bageulfn>
Particuliers: souhaitez-vous bénéficier du crédit d’impôt et ne payer que 50 % du prix ?
</label> <div class="credit-impot-radios" role="radiogroup" aria-label="Crédit d'impôt" data-astro-cid-bageulfn> <label class="radio-pill" for="credit-impot-oui" data-astro-cid-bageulfn> <input type="radio" id="credit-impot-oui" name="credit_impot" value="oui" data-astro-cid-bageulfn> <span data-astro-cid-bageulfn>Oui</span> </label> <label class="radio-pill" for="credit-impot-non" data-astro-cid-bageulfn> <input type="radio" id="credit-impot-non" name="credit_impot" value="non" checked data-astro-cid-bageulfn> <span data-astro-cid-bageulfn>Non</span> </label> </div> </div> <!-- 📷 PHOTOS (Cloudinary unsigned) --> <!-- 📷 PHOTOS (Cloudinary unsigned) --> <div class="form-group premium" data-astro-cid-bageulfn> <label class="switch-label" for="popup-photos" data-astro-cid-bageulfn>Photos (optionnel)</label> <!-- 👇 Bloc drop modernisé --> <div class="popup-photos-drop border-2 border-dashed" id="popup-photos-drop" data-cloud="ton_cloud_name" data-preset="ton_unsigned_preset" data-max="5" data-max-mb="10" data-astro-cid-bageulfn> <!-- input file caché --> <input type="file" id="popup-photos" name="__photos_local" accept="image/*" multiple class="hidden" data-astro-cid-bageulfn> <!-- label cliquable --> <label for="popup-photos" class="popup-photos-label" data-astro-cid-bageulfn> <svg class="popup-photos-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" data-astro-cid-bageulfn> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14
                 m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" data-astro-cid-bageulfn></path> </svg> <div data-astro-cid-bageulfn> <div class="photos-title" data-astro-cid-bageulfn>Cliquez pour ajouter des photos</div> <div class="photos-help" data-astro-cid-bageulfn>Max 5 photos • 10 MB / photo • JPG/PNG/WEBP</div> </div> </label> </div> <!-- ✅ Éléments d’état et preview --> <div id="popup-photos-status" class="popup-photos-status" data-astro-cid-bageulfn>Aucune photo</div> <ul id="popup-photos-list" class="popup-photos-list hidden" aria-live="polite" data-astro-cid-bageulfn></ul> <div id="popup-photos-hidden" class="hidden" data-astro-cid-bageulfn></div> </div> <!-- RGPD --> <div class="checkbox-group premium" data-astro-cid-bageulfn> <div class="checkbox-wrapper" data-astro-cid-bageulfn> <input type="checkbox" id="popup-rgpd" name="rgpd" class="checkbox-input" required data-astro-cid-bageulfn> <label for="popup-rgpd" class="checkbox-label" data-astro-cid-bageulfn> <div class="checkbox-box" data-astro-cid-bageulfn> <svg class="checkbox-check" viewBox="0 0 24 24" fill="none" stroke="currentColor" data-astro-cid-bageulfn> <path d="M9 12l2 2 4-4" data-astro-cid-bageulfn></path> </svg> </div> <span class="checkbox-text" data-astro-cid-bageulfn>
J'accepte que mes données soient utilisées pour me recontacter dans le cadre de ma demande.
<a href="/politique-de-confidentialite" target="_blank" rel="noopener" class="link-primary" data-astro-cid-bageulfn>En savoir plus</a> </span> </label> </div> <div class="form-error premium" id="error-rgpd" data-astro-cid-bageulfn></div> </div> <!-- Actions --> <div class="form-actions premium" data-astro-cid-bageulfn> <button type="submit" class="btn-primary premium" id="submitBtn" data-astro-cid-bageulfn> <span class="btn-content" data-astro-cid-bageulfn> <span class="loading-spinner" data-astro-cid-bageulfn></span> <span id="submitText" data-astro-cid-bageulfn>Envoyer ma demande</span> </span> <div class="btn-ripple" data-astro-cid-bageulfn></div> </button> <a href="tel:+33676738661" class="btn-call premium" id="callBtn" data-astro-cid-bageulfn> <div class="call-content" data-astro-cid-bageulfn> <div class="call-icon-wrapper" data-astro-cid-bageulfn> <svg class="call-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" data-astro-cid-bageulfn> <path d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" data-astro-cid-bageulfn></path> </svg> </div> <div class="call-text" data-astro-cid-bageulfn> <span class="call-label" data-astro-cid-bageulfn>Ou appelez maintenant</span> <span class="call-number" data-astro-cid-bageulfn>06 76 73 86 61</span> </div> </div> </a> </div> <!-- Footer reassurance --> <div class="footer-reassurance premium" data-astro-cid-bageulfn> <div class="reassurance-items" data-astro-cid-bageulfn> <div class="reassurance-item" data-astro-cid-bageulfn> <svg class="reassurance-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" data-astro-cid-bageulfn> <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" data-astro-cid-bageulfn></path> </svg> <span data-astro-cid-bageulfn>Sans engagement</span> </div> <div class="reassurance-item" data-astro-cid-bageulfn> <svg class="reassurance-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" data-astro-cid-bageulfn> <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" data-astro-cid-bageulfn></path> </svg> <span data-astro-cid-bageulfn>Prix transparents</span> </div> <div class="reassurance-item" data-astro-cid-bageulfn> <svg class="reassurance-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" data-astro-cid-bageulfn> <path d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" data-astro-cid-bageulfn></path> </svg> <span data-astro-cid-bageulfn>Intervention discrète</span> </div> </div> </div> </form> </div> </div> </div>  <!-- IMPORTANT: on passe la conf Cloudinary en data-attributes, pas d'interpolation dans le JS --> <script>
(() => {
  const overlay = document.getElementById('popupOverlay');
  const form    = document.getElementById('popupForm');
  const closeBtn= document.getElementById('closePopup');
  const contactForm = document.getElementById('contactForm');
  const msg = document.getElementById('formMessage');
  const submitBtn = document.getElementById('submitBtn');
  const submitText = document.getElementById('submitText');

  if (!overlay || !form) return;

  // --- Scroll lock safe
  let prevOverflow = '', prevPaddingRight = '', locked = false;
  function lockScroll() {
    if (locked) return; locked = true;
    const sbw = window.innerWidth - document.documentElement.clientWidth;
    prevOverflow = document.body.style.overflow;
    prevPaddingRight = document.body.style.paddingRight;
    document.body.style.overflow = 'hidden';
    if (sbw > 0) document.body.style.paddingRight = (parseFloat(getComputedStyle(document.body).paddingRight)||0 + sbw) + 'px';
  }
  function unlockScroll() {
    if (!locked) return; locked = false;
    document.body.style.overflow = prevOverflow || '';
    document.body.style.paddingRight = prevPaddingRight || '';
  }

  // --- API popup
  window.openPopupForm = function () {
    if (overlay.parentNode !== document.body) document.body.appendChild(overlay);
    overlay.removeAttribute('hidden');
    overlay.classList.add('active');
    lockScroll();
    setTimeout(() => form.querySelector('input,button,select,textarea,a')?.focus?.({ preventScroll:true }), 30);
    return true;
  };
  window.closePopupForm = function () {
    overlay.classList.remove('active');
    const onEnd = (e) => {
      if (e.target !== overlay) return;
      overlay.removeEventListener('transitionend', onEnd);
      overlay.setAttribute('hidden', '');
      unlockScroll();
      try { contactForm?.reset(); } catch {}
      if (msg) { msg.className = 'form-message premium'; msg.style.display = 'none'; msg.textContent = ''; }
    };
    overlay.addEventListener('transitionend', onEnd, { once:true });
    requestAnimationFrame(() => {
      if (!getComputedStyle(overlay).transitionDuration || getComputedStyle(overlay).transitionDuration === '0s') {
        overlay.setAttribute('hidden', ''); unlockScroll();
        try { contactForm?.reset(); } catch {}
        if (msg) { msg.className = 'form-message premium'; msg.style.display = 'none'; msg.textContent = ''; }
      }
    });
  };

  // Déclencheur
  const TRG='[data-open-popup],[data-openpopup],[data-popup-open]';
  document.addEventListener('click', (e) => {
    const t = e.target.matches(TRG) ? e.target : e.target.closest(TRG);
    if (!t) return;
    e.preventDefault(); e.stopPropagation();
    window.openPopupForm();
  }, { capture:true });

  overlay.addEventListener('click', (e) => { if (e.target === overlay) window.closePopupForm(); });
  closeBtn?.addEventListener('click', (e) => { e.preventDefault(); window.closePopupForm(); });
  document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && overlay.classList.contains('active')) window.closePopupForm(); });

  // --- Soumission AJAX (empêche la redirection /api/contact)
  if (contactForm) {
    contactForm.addEventListener('submit', async (e) => {
      e.preventDefault();

      // bloquer si upload en cours (variable posée par le script "photos" ci-dessous)
      if (window.__photosUploadingCount && window.__photosUploadingCount > 0) {
        showMessage('Veuillez attendre la fin de l’envoi des photos…', 'error');
        return;
      }

      setLoading(true);
      showMessage('', 'clear');
      try {
        const fd = new FormData(contactForm);
        const res = await fetch(contactForm.action || '/api/contact', {
          method: 'POST',
          body: fd,
          headers: { 'Accept': 'application/json' }
        });

        // on essaie de lire le JSON proprement
        let data = null;
        try { data = await res.json(); } catch {}

        if (res.ok) {
          showMessage(data?.message || 'Merci, votre demande a bien été envoyée.', 'success');
          // reset visuel léger
          contactForm.reset();
          // on peut fermer après 1.5s si tu veux:
          // setTimeout(() => window.closePopupForm(), 1500);
        } else {
          const err = data?.error || data?.message || 'Une erreur est survenue. Merci de réessayer.';
          showMessage(err, 'error');
        }
      } catch (err) {
        showMessage('Impossible de contacter le serveur. Merci de réessayer dans un instant.', 'error');
      } finally {
        setLoading(false);
      }
    });
  }

  function setLoading(state) {
    if (!submitBtn) return;
    submitBtn.classList.toggle('loading', !!state);
    submitBtn.disabled = !!state;
  }
  function showMessage(text, type) {
    if (!msg) return;
    if (type === 'clear') {
      msg.textContent = ''; msg.style.display = 'none';
      msg.className = 'form-message premium';
      return;
    }
    msg.textContent = text || '';
    msg.style.display = text ? '' : 'none';
    msg.className = `form-message premium ${type === 'success' ? 'success' : 'error'}`;
  }
})();
</script> <script>
(() => {
  const drop     = document.getElementById('popup-photos-drop');
  const input    = document.getElementById('popup-photos');
  const list     = document.getElementById('popup-photos-list');
  const hidden   = document.getElementById('popup-photos-hidden');
  const statusEl = document.getElementById('popup-photos-status');
  const submitBtn= document.getElementById('submitBtn');
  if (!drop || !input || !list || !hidden) return;

  const CLOUD  = drop.dataset.cloud || '';
  const PRESET = drop.dataset.preset || '';
  const MAX    = parseInt(drop.dataset.max || '5', 10);
  const MAX_MB = parseInt(drop.dataset.maxMb || '10', 10);

  // compteur global -> utilisé par le script du formulaire
  window.__photosUploadingCount = 0;

  let files = []; // [{id, file, url, state, progress, secure_url}]

  function setStatus() {
    if (!files.length) { statusEl.textContent = 'Aucune photo'; list.classList.add('hidden'); return; }
    const ok = files.filter(f => f.state === 'done').length;
    const up = window.__photosUploadingCount || 0;
    statusEl.textContent = `${files.length}/${MAX} fichiers • ${ok} importé${ok>1?'s':''}${up?` • ${up} en cours…`:''}`;
    list.classList.remove('hidden');
    submitBtn && (submitBtn.disabled = up > 0); // sécurité UX
  }

  function addHidden(url) {
    const i = document.createElement('input');
    i.type = 'hidden'; i.name = 'photos[]'; i.value = url;
    hidden.appendChild(i);
  }
  function removeHidden(url) {
    hidden.querySelectorAll('input[name="photos[]"]').forEach(i => { if (i.value===url) i.remove(); });
  }

  function bytesToMB(b){ return (b/1024/1024).toFixed(1); }

  function render() {
    list.innerHTML = '';
    files.forEach(f => {
      const li = document.createElement('li'); li.className = 'photo-row';

      const name = document.createElement('div'); name.className = 'photo-name'; name.title = f.file.name; name.textContent = f.file.name;
      const size = document.createElement('div'); size.className = 'photo-size'; size.textContent = `${bytesToMB(f.file.size)} MB`;
      const state = document.createElement('div'); state.className = 'photo-state';
      const rm = document.createElement('button'); rm.type='button'; rm.className='photo-remove'; rm.textContent='×';

      if (f.state === 'uploading') state.textContent = `Envoi… ${f.progress||0}%`;
      else if (f.state === 'done') state.textContent = 'Importée ✓';
      else if (f.state === 'error') state.textContent = 'Erreur';
      else state.textContent = 'En attente';

      rm.addEventListener('click', () => {
        URL.revokeObjectURL(f.url);
        if (f.secure_url) removeHidden(f.secure_url);
        if (f.state === 'uploading') window.__photosUploadingCount = Math.max(0, window.__photosUploadingCount - 1);
        files = files.filter(x => x.id !== f.id);
        render(); setStatus();
      });

      li.appendChild(name);
      li.appendChild(size);
      li.appendChild(state);
      li.appendChild(rm);

      // barre de progression (ligne suivante)
      const bar = document.createElement('div'); bar.className = 'photo-progress';
      const fill = document.createElement('span'); bar.appendChild(fill);
      if (f.state === 'uploading') fill.style.width = (f.progress||0) + '%';
      if (f.state === 'done') fill.style.width = '100%';
      if (f.state !== 'queued') li.appendChild(bar);

      list.appendChild(li);
    });
  }

  function validate(list) {
    const out = [];
    for (const file of list) {
      if (!/^image\/(jpe?g|png|webp)$/i.test(file.type)) { alert(`Format non supporté: ${file.name}`); continue; }
      if (file.size > MAX_MB*1024*1024) { alert(`"${file.name}" dépasse ${MAX_MB} MB (${bytesToMB(file.size)} MB)`); continue; }
      out.push(file);
    }
    return out.slice(0, Math.max(0, MAX - files.length));
  }

  function uploadToCloudinary(item) {
    if (!CLOUD || !PRESET) {
      item.state = 'queued'; render(); setStatus();
      return;
    }
    item.state = 'uploading'; item.progress = 0; window.__photosUploadingCount++; render(); setStatus();

    const url = `https://api.cloudinary.com/v1_1/${CLOUD}/upload`;
    const fd  = new FormData();
    fd.append('file', item.file);
    fd.append('upload_preset', PRESET);

    const xhr = new XMLHttpRequest();
    xhr.open('POST', url);
    xhr.upload.onprogress = (e) => {
      if (!e.lengthComputable) return;
      item.progress = Math.round((e.loaded / e.total) * 100);
      render();
    };
    xhr.onload = () => {
      try {
        const res = JSON.parse(xhr.responseText);
        if (xhr.status >= 200 && xhr.status < 300 && res.secure_url) {
          item.state = 'done';
          item.secure_url = res.secure_url;
          addHidden(res.secure_url);
        } else {
          item.state = 'error';
        }
      } catch { item.state = 'error'; }
      window.__photosUploadingCount = Math.max(0, window.__photosUploadingCount - 1);
      render(); setStatus();
    };
    xhr.onerror = () => {
      item.state = 'error';
      window.__photosUploadingCount = Math.max(0, window.__photosUploadingCount - 1);
      render(); setStatus();
    };
    xhr.send(fd);
  }

  function handleFiles(fileList) {
    const accepted = validate(Array.from(fileList));
    accepted.forEach(file => {
      const id = crypto.randomUUID ? crypto.randomUUID() : String(Date.now()+Math.random());
      const url = URL.createObjectURL(file);
      const item = { id, file, url, state: 'queued', progress: 0 };
      files.push(item);
      uploadToCloudinary(item);
    });
    render(); setStatus();
  }

  // Click/Change
  input.addEventListener('change', (e) => handleFiles(e.target.files || []));
  // Drag & drop
  ['dragenter','dragover'].forEach(ev => drop.addEventListener(ev, e => { e.preventDefault(); drop.classList.add('is-over'); }, false));
  ['dragleave','drop'].forEach(ev => drop.addEventListener(ev, e => { e.preventDefault(); drop.classList.remove('is-over'); }, false));
  drop.addEventListener('drop', (e) => handleFiles(e.dataTransfer.files || []));
  // Zone cliquable
  drop.addEventListener('click', () => input.click());

  setStatus();
})();
</script> </div> <!-- Miroir des data-* sur <body> si des scripts y accèdent --> <script>
  (function () {
    try {
      const root = document.getElementById('lp-root');
      if (!root) return;
      const d = root.dataset, b = document.body;
      b.dataset.serviceKey = d.serviceKey || '';
      b.dataset.serviceLabel = d.serviceLabel || '';
      b.dataset.trackingSource = d.trackingSource || '';
      b.dataset.presetSubject = d.presetSubject || '';
      b.dataset.popupTitle = d.popupTitle || '';
      b.dataset.popupSubtitle = d.popupSubtitle || '';
      b.dataset.creditImpot = d.creditImpot || '0';
    } catch {}
  })();
</script> <!-- Événements analytics + confort --> <script>
  window.dataLayer = window.dataLayer || [];

  window.addEventListener('sp:popup_open', (e) => {
    const type = e.detail?.type || 'unknown';
    window.dataLayer.push({ event: 'popup_open', popup_type: type, page_type: 'landing_page' });
    if (typeof window.gtag === 'function') {
      window.gtag('event', 'popup_open', { event_category: 'engagement', event_label: type });
    }
  });

  window.addEventListener('sp:popup_close', () => {
    window.dataLayer.push({ event: 'popup_close', page_type: 'landing_page' });
  });

  // Confort scroll
  if ('scrollRestoration' in window.history) window.history.scrollRestoration = 'manual';
  if (!sessionStorage.getItem('_scroll_reset_done')) {
    window.addEventListener('load', () => {
      window.scrollTo(0, 0);
      sessionStorage.setItem('_scroll_reset_done', '1');
    }, { once: true });
  }
</script>  </body></html>