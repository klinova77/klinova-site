import{D as p}from"./utils.FYmIc02P.js";const i=(s,t,e)=>(s.preventDefault(),e.setAttribute("aria-expanded","true"),new Promise(a=>{let n=!1;t.forEach(c=>{c.removeAttribute("disabled"),c.getAttribute("aria-selected")==="true"&&(n=!0,c.focus())}),!n&&t.length>0&&t[0].focus(),setTimeout(()=>a(),0)})),l=(s,t)=>{t.setAttribute("aria-expanded","false"),s.forEach(e=>{e.setAttribute("disabled","disabled")})},m=(s,t,e,a)=>{a.selectedIndex=s+1,a.setAttribute("data-selected","true"),t.forEach(n=>{n.setAttribute("aria-selected","false")}),e.setAttribute("aria-selected","true")},A=(s,t,e,a,n,c)=>{if(!n)return;const o=s.target,d=e.contains(o),r=a?.contains(o);!d&&!r&&(l(t,e),c(!1))},w=(s,t,e,a,n)=>{if(!a)return;const c=document.activeElement,o=Array.from(t).indexOf(c);s.key==="Escape"&&(l(t,e),n(!1)),s.key==="ArrowDown"&&(s.preventDefault(),u(o,t,1)),s.key==="ArrowUp"&&(s.preventDefault(),u(o,t,-1))},u=(s,t,e)=>{if(s===-1)return;const a=(s+e+t.length)%t.length;t[a].focus()};p(()=>{document.querySelectorAll("[data-select]").forEach(t=>{const e=t,n=e.closest("[data-select-wrapper]")?.querySelector("[data-select-popover]"),c=n?.querySelectorAll("[data-select-option]");let o=!1;const d=r=>{o=r};e.addEventListener("mousedown",r=>i(r,c,e).then(()=>{d(!0)})),e.addEventListener("keydown",r=>{(r.key==="Enter"||r.code==="Space"||r.key==="ArrowDown"||r.key==="ArrowUp")&&i(r,c,e).then(()=>{d(!0)})}),document.addEventListener("mousedown",r=>{A(r,c,e,n,o,d)}),document.addEventListener("keydown",r=>{w(r,c,e,o,d)}),c?.forEach((r,f)=>{r.addEventListener("click",()=>{m(f,c,r,e),l(c,e),d(!1)})})})});
//# sourceMappingURL=Select.astro_astro_type_script_index_0_lang.Br2nyxce.js.map
