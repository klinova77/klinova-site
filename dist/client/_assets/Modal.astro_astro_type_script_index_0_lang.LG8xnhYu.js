import{i as h,D as f}from"./utils.FYmIc02P.js";const E=t=>{const o=document.body;o.style.overflow="hidden",t.classList.remove("ac-modal--close"),t.showModal(),h()&&T(t),t.addEventListener("click",s=>{s.target===t&&a(t)},{once:!0})},a=t=>{const o=document.body;t.classList.add("ac-modal--animated"),t.close(),h()&&p(t),setTimeout(()=>{t.classList.add("ac-modal--close"),t.style.removeProperty("transform"),t.style.removeProperty("opacity"),t.style.removeProperty("transition"),o.style.overflow="auto"},200)},T=t=>{let o=0,s=0,n=!1;const c=e=>e.scrollHeight>e.clientHeight,v=e=>{for(;e&&e!==t;){if(c(e))return e;e=e.parentElement}return null},y=e=>e.scrollTop===0,l=e=>{o=e.touches[0].clientY;const r=e.target,d=v(r);d&&!y(d)?n=!0:n=!1},i=e=>{if(n)return;s=e.touches[0].clientY;const r=Math.max(0,s-o);t.style.transition="none",t.style.opacity=`${1-r/250}`,t.classList.remove("ac-modal--animated"),t.style.transform=`translateY(${r}px)`,r>250&&a(t)},u=()=>{t.style.transform="translateY(0)",t.style.opacity="1",t.style.transition="transform 0.2s ease-in-out"};t.addEventListener("touchstart",l,{passive:!0}),t.addEventListener("touchmove",i,{passive:!0}),t.addEventListener("touchend",u,{passive:!0}),t.handleTouchStart=l,t.handleTouchMove=i,t.handleTouchEnd=u},p=t=>{t.removeEventListener("touchstart",t.handleTouchStart),t.removeEventListener("touchmove",t.handleTouchMove),t.removeEventListener("touchend",t.handleTouchEnd)};f(()=>{const t=document.querySelectorAll("[data-modal-trigger]"),o=document.querySelectorAll("[data-modal-close]");t.forEach(s=>{const n=s.dataset.modalTrigger,c=document.querySelector(`#${n}`);s.addEventListener("click",()=>E(c))}),o.forEach(s=>{const n=s.closest("[data-modal]");s.addEventListener("click",()=>a(n))})});
//# sourceMappingURL=Modal.astro_astro_type_script_index_0_lang.LG8xnhYu.js.map
